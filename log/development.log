  [1m[35m (150.4ms)[0m  [1m[35mCREATE DATABASE "seating_charter_development" ENCODING = 'unicode' /*application='SeatingCharter'*/[0m
  [1m[35m (126.5ms)[0m  [1m[35mCREATE DATABASE "seating_charter_development" ENCODING = 'unicode' /*application='SeatingCharter'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='SeatingCharter'*/[0m
  [1m[35m (109.8ms)[0m  [1m[35mCREATE DATABASE "seating_charter_development" ENCODING = 'unicode' /*application='SeatingCharter'*/[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mSET search_path TO public /*application='SeatingCharter'*/[0m
  [1m[35m (77.5ms)[0m  [1m[35mCREATE DATABASE "seating_charter_test" ENCODING = 'unicode' /*application='SeatingCharter'*/[0m
  [1m[35m (31.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='SeatingCharter'*/[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='SeatingCharter'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-04 18:08:47.888854', '2025-09-04 18:08:47.888860') RETURNING "key" /*application='SeatingCharter'*/[0m
Migrating to DeviseCreateUsers (20250904175625)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "role" integer DEFAULT 0 NOT NULL, "first_name" character varying, "last_name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='SeatingCharter'*/[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='SeatingCharter'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='SeatingCharter'*/[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE INDEX "index_users_on_role" ON "users" ("role") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175625') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateCohorts (20250904175633)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "cohorts" ("id" bigserial primary key, "name" character varying NOT NULL, "description" text, "start_date" date NOT NULL, "end_date" date NOT NULL, "user_id" bigint NOT NULL, "max_students" integer DEFAULT 40 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5515141c12"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_cohorts_on_user_id" ON "cohorts" ("user_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175633') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateStudents (20250904175641)
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "students" ("id" bigserial primary key, "name" character varying, "title" character varying, "organization" character varying, "location" character varying, "cohort_id" bigint NOT NULL, "student_attributes" jsonb, "inferences" jsonb, "confidence_scores" jsonb, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b70571e3bf"
FOREIGN KEY ("cohort_id")
  REFERENCES "cohorts" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_students_on_cohort_id" ON "students" ("cohort_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175641') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateImportSessions (20250904175645)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "import_sessions" ("id" bigserial primary key, "cohort_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer, "file_name" character varying, "file_size" integer, "processed_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a5037db12b"
FOREIGN KEY ("cohort_id")
  REFERENCES "cohorts" ("id")
, CONSTRAINT "fk_rails_25c4555ade"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_import_sessions_on_cohort_id" ON "import_sessions" ("cohort_id") /*application='SeatingCharter'*/[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE INDEX "index_import_sessions_on_user_id" ON "import_sessions" ("user_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175645') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateStudentImportRecords (20250904175650)
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (19.9ms)[0m  [1m[35mCREATE TABLE "student_import_records" ("id" bigserial primary key, "import_session_id" bigint NOT NULL, "student_id" bigint NOT NULL, "raw_data" jsonb, "ai_inferences" jsonb, "corrections" jsonb, "feedback_provided" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d59a5c2fdc"
FOREIGN KEY ("import_session_id")
  REFERENCES "import_sessions" ("id")
, CONSTRAINT "fk_rails_d9049a0c58"
FOREIGN KEY ("student_id")
  REFERENCES "students" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_student_import_records_on_import_session_id" ON "student_import_records" ("import_session_id") /*application='SeatingCharter'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_student_import_records_on_student_id" ON "student_import_records" ("student_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (3.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175650') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateSeatingEvents (20250904175654)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (63.4ms)[0m  [1m[35mCREATE TABLE "seating_events" ("id" bigserial primary key, "cohort_id" bigint NOT NULL, "name" character varying, "event_type" integer, "event_date" date, "table_size" integer, "total_tables" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c4f4e07de7"
FOREIGN KEY ("cohort_id")
  REFERENCES "cohorts" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_seating_events_on_cohort_id" ON "seating_events" ("cohort_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175654') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateSeatingArrangements (20250904175659)
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (22.4ms)[0m  [1m[35mCREATE TABLE "seating_arrangements" ("id" bigserial primary key, "seating_event_id" bigint NOT NULL, "optimization_scores" jsonb, "arrangement_data" jsonb, "created_by_id" bigint NOT NULL, "diversity_metrics" jsonb, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5984d217ad"
FOREIGN KEY ("seating_event_id")
  REFERENCES "seating_events" ("id")
, CONSTRAINT "fk_rails_4924591716"
FOREIGN KEY ("created_by_id")
  REFERENCES "created_bies" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[31mROLLBACK /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
Migrating to CreateSeatingEvents (20250904175654)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP TABLE "seating_events" /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250904175654' /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateStudentImportRecords (20250904175650)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE "student_import_records" /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250904175650' /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateImportSessions (20250904175645)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE "import_sessions" /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250904175645' /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateStudents (20250904175641)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE "students" /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250904175641' /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateCohorts (20250904175633)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "cohorts" /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250904175633' /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to DeviseCreateUsers (20250904175625)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_users_on_role" /*application='SeatingCharter'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_users_on_reset_password_token" /*application='SeatingCharter'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_users_on_email" /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "users" /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250904175625' /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
Migrating to DeviseCreateUsers (20250904175625)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "role" integer DEFAULT 0 NOT NULL, "first_name" character varying, "last_name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='SeatingCharter'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='SeatingCharter'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='SeatingCharter'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_role" ON "users" ("role") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175625') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateCohorts (20250904175633)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "cohorts" ("id" bigserial primary key, "name" character varying NOT NULL, "description" text, "start_date" date NOT NULL, "end_date" date NOT NULL, "user_id" bigint NOT NULL, "max_students" integer DEFAULT 40 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5515141c12"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_cohorts_on_user_id" ON "cohorts" ("user_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175633') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateStudents (20250904175641)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "students" ("id" bigserial primary key, "name" character varying, "title" character varying, "organization" character varying, "location" character varying, "cohort_id" bigint NOT NULL, "student_attributes" jsonb, "inferences" jsonb, "confidence_scores" jsonb, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b70571e3bf"
FOREIGN KEY ("cohort_id")
  REFERENCES "cohorts" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_students_on_cohort_id" ON "students" ("cohort_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175641') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateImportSessions (20250904175645)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "import_sessions" ("id" bigserial primary key, "cohort_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer, "file_name" character varying, "file_size" integer, "processed_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a5037db12b"
FOREIGN KEY ("cohort_id")
  REFERENCES "cohorts" ("id")
, CONSTRAINT "fk_rails_25c4555ade"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_import_sessions_on_cohort_id" ON "import_sessions" ("cohort_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_import_sessions_on_user_id" ON "import_sessions" ("user_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175645') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateStudentImportRecords (20250904175650)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "student_import_records" ("id" bigserial primary key, "import_session_id" bigint NOT NULL, "student_id" bigint NOT NULL, "raw_data" jsonb, "ai_inferences" jsonb, "corrections" jsonb, "feedback_provided" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d59a5c2fdc"
FOREIGN KEY ("import_session_id")
  REFERENCES "import_sessions" ("id")
, CONSTRAINT "fk_rails_d9049a0c58"
FOREIGN KEY ("student_id")
  REFERENCES "students" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_student_import_records_on_import_session_id" ON "student_import_records" ("import_session_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_student_import_records_on_student_id" ON "student_import_records" ("student_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175650') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateSeatingEvents (20250904175654)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "seating_events" ("id" bigserial primary key, "cohort_id" bigint NOT NULL, "name" character varying, "event_type" integer, "event_date" date, "table_size" integer, "total_tables" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c4f4e07de7"
FOREIGN KEY ("cohort_id")
  REFERENCES "cohorts" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_seating_events_on_cohort_id" ON "seating_events" ("cohort_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175654') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateSeatingArrangements (20250904175659)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (21.7ms)[0m  [1m[35mCREATE TABLE "seating_arrangements" ("id" bigserial primary key, "seating_event_id" bigint NOT NULL, "optimization_scores" jsonb, "arrangement_data" jsonb, "created_by_id" bigint NOT NULL, "diversity_metrics" jsonb, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5984d217ad"
FOREIGN KEY ("seating_event_id")
  REFERENCES "seating_events" ("id")
, CONSTRAINT "fk_rails_4924591716"
FOREIGN KEY ("created_by_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE INDEX "index_seating_arrangements_on_seating_event_id" ON "seating_arrangements" ("seating_event_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_seating_arrangements_on_created_by_id" ON "seating_arrangements" ("created_by_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175659') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateTableAssignments (20250904175703)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE "table_assignments" ("id" bigserial primary key, "seating_arrangement_id" bigint NOT NULL, "student_id" bigint NOT NULL, "table_number" integer, "seat_position" integer, "locked" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_79afa87324"
FOREIGN KEY ("seating_arrangement_id")
  REFERENCES "seating_arrangements" ("id")
, CONSTRAINT "fk_rails_586280c549"
FOREIGN KEY ("student_id")
  REFERENCES "students" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_table_assignments_on_seating_arrangement_id" ON "table_assignments" ("seating_arrangement_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_table_assignments_on_student_id" ON "table_assignments" ("student_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175703') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateInteractionTrackings (20250904175712)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "interaction_trackings" ("id" bigserial primary key, "student_a_id" bigint NOT NULL, "student_b_id" bigint NOT NULL, "seating_event_id" bigint NOT NULL, "interaction_count" integer DEFAULT 0 NOT NULL, "last_interaction" date, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_841cd3c611"
FOREIGN KEY ("student_a_id")
  REFERENCES "students" ("id")
, CONSTRAINT "fk_rails_76c379c83a"
FOREIGN KEY ("student_b_id")
  REFERENCES "students" ("id")
, CONSTRAINT "fk_rails_d9a1278622"
FOREIGN KEY ("seating_event_id")
  REFERENCES "seating_events" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_interaction_trackings_on_student_a_id" ON "interaction_trackings" ("student_a_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_interaction_trackings_on_student_b_id" ON "interaction_trackings" ("student_b_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_interaction_trackings_on_seating_event_id" ON "interaction_trackings" ("seating_event_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_interaction_trackings_on_student_a_id_and_student_b_id" ON "interaction_trackings" ("student_a_id", "student_b_id") /*application='SeatingCharter'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_interaction_trackings_on_seating_event_id" ON "interaction_trackings" ("seating_event_id") /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='SeatingCharter'*/[0m
  [1m[35m (44.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "seating_charter_development" /*application='SeatingCharter'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='SeatingCharter'*/[0m
  [1m[35m (37.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "seating_charter_test" /*application='SeatingCharter'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='SeatingCharter'*/[0m
  [1m[35m (89.2ms)[0m  [1m[35mCREATE DATABASE "seating_charter_development" ENCODING = 'unicode' /*application='SeatingCharter'*/[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mSET search_path TO public /*application='SeatingCharter'*/[0m
  [1m[35m (76.2ms)[0m  [1m[35mCREATE DATABASE "seating_charter_test" ENCODING = 'unicode' /*application='SeatingCharter'*/[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='SeatingCharter'*/[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0) /*application='SeatingCharter'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-04 18:09:35.085227', '2025-09-04 18:09:35.085229') RETURNING "key" /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '9c6777daaa6ce85cc74b26c38000144a7834a947', '2025-09-04 18:09:35.088235', '2025-09-04 18:09:35.088236') RETURNING "key" /*application='SeatingCharter'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
Migrating to DeviseCreateUsers (20250904175625)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "role" integer DEFAULT 0 NOT NULL, "first_name" character varying, "last_name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='SeatingCharter'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_role" ON "users" ("role") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175625') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateCohorts (20250904175633)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "cohorts" ("id" bigserial primary key, "name" character varying NOT NULL, "description" text, "start_date" date NOT NULL, "end_date" date NOT NULL, "user_id" bigint NOT NULL, "max_students" integer DEFAULT 40 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5515141c12"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_cohorts_on_user_id" ON "cohorts" ("user_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175633') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateStudents (20250904175641)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "students" ("id" bigserial primary key, "name" character varying, "title" character varying, "organization" character varying, "location" character varying, "cohort_id" bigint NOT NULL, "student_attributes" jsonb, "inferences" jsonb, "confidence_scores" jsonb, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b70571e3bf"
FOREIGN KEY ("cohort_id")
  REFERENCES "cohorts" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE INDEX "index_students_on_cohort_id" ON "students" ("cohort_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175641') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateImportSessions (20250904175645)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "import_sessions" ("id" bigserial primary key, "cohort_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer, "file_name" character varying, "file_size" integer, "processed_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a5037db12b"
FOREIGN KEY ("cohort_id")
  REFERENCES "cohorts" ("id")
, CONSTRAINT "fk_rails_25c4555ade"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_import_sessions_on_cohort_id" ON "import_sessions" ("cohort_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_import_sessions_on_user_id" ON "import_sessions" ("user_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175645') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateStudentImportRecords (20250904175650)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE TABLE "student_import_records" ("id" bigserial primary key, "import_session_id" bigint NOT NULL, "student_id" bigint NOT NULL, "raw_data" jsonb, "ai_inferences" jsonb, "corrections" jsonb, "feedback_provided" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d59a5c2fdc"
FOREIGN KEY ("import_session_id")
  REFERENCES "import_sessions" ("id")
, CONSTRAINT "fk_rails_d9049a0c58"
FOREIGN KEY ("student_id")
  REFERENCES "students" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_student_import_records_on_import_session_id" ON "student_import_records" ("import_session_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_student_import_records_on_student_id" ON "student_import_records" ("student_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175650') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateSeatingEvents (20250904175654)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "seating_events" ("id" bigserial primary key, "cohort_id" bigint NOT NULL, "name" character varying, "event_type" integer, "event_date" date, "table_size" integer, "total_tables" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c4f4e07de7"
FOREIGN KEY ("cohort_id")
  REFERENCES "cohorts" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_seating_events_on_cohort_id" ON "seating_events" ("cohort_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175654') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateSeatingArrangements (20250904175659)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "seating_arrangements" ("id" bigserial primary key, "seating_event_id" bigint NOT NULL, "optimization_scores" jsonb, "arrangement_data" jsonb, "created_by_id" bigint NOT NULL, "diversity_metrics" jsonb, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5984d217ad"
FOREIGN KEY ("seating_event_id")
  REFERENCES "seating_events" ("id")
, CONSTRAINT "fk_rails_4924591716"
FOREIGN KEY ("created_by_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_seating_arrangements_on_seating_event_id" ON "seating_arrangements" ("seating_event_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_seating_arrangements_on_created_by_id" ON "seating_arrangements" ("created_by_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175659') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateTableAssignments (20250904175703)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "table_assignments" ("id" bigserial primary key, "seating_arrangement_id" bigint NOT NULL, "student_id" bigint NOT NULL, "table_number" integer, "seat_position" integer, "locked" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_79afa87324"
FOREIGN KEY ("seating_arrangement_id")
  REFERENCES "seating_arrangements" ("id")
, CONSTRAINT "fk_rails_586280c549"
FOREIGN KEY ("student_id")
  REFERENCES "students" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_table_assignments_on_seating_arrangement_id" ON "table_assignments" ("seating_arrangement_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_table_assignments_on_student_id" ON "table_assignments" ("student_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175703') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateInteractionTrackings (20250904175712)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "interaction_trackings" ("id" bigserial primary key, "student_a_id" bigint NOT NULL, "student_b_id" bigint NOT NULL, "seating_event_id" bigint NOT NULL, "interaction_count" integer DEFAULT 0 NOT NULL, "last_interaction" date, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_841cd3c611"
FOREIGN KEY ("student_a_id")
  REFERENCES "students" ("id")
, CONSTRAINT "fk_rails_76c379c83a"
FOREIGN KEY ("student_b_id")
  REFERENCES "students" ("id")
, CONSTRAINT "fk_rails_d9a1278622"
FOREIGN KEY ("seating_event_id")
  REFERENCES "seating_events" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_interaction_trackings_on_student_a_id" ON "interaction_trackings" ("student_a_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_interaction_trackings_on_student_b_id" ON "interaction_trackings" ("student_b_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_interaction_trackings_on_seating_event_id" ON "interaction_trackings" ("seating_event_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_interaction_trackings_on_student_a_id_and_student_b_id" ON "interaction_trackings" ("student_a_id", "student_b_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175712') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateInferenceFeedbacks (20250904175716)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "inference_feedbacks" ("id" bigserial primary key, "student_import_record_id" bigint NOT NULL, "field_name" character varying, "original_inference" character varying, "corrected_value" character varying, "feedback_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_fe765e7f51"
FOREIGN KEY ("student_import_record_id")
  REFERENCES "student_import_records" ("id")
, CONSTRAINT "fk_rails_d3c7a6d4f7"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_inference_feedbacks_on_student_import_record_id" ON "inference_feedbacks" ("student_import_record_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_inference_feedbacks_on_user_id" ON "inference_feedbacks" ("user_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175716') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateAiConfigurations (20250904175725)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "ai_configurations" ("id" bigserial primary key, "ai_model_name" character varying, "api_endpoint" character varying, "temperature" decimal, "max_tokens" integer, "batch_size" integer, "retry_attempts" integer, "cost_per_token" decimal, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175725') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateCustomAttributes (20250904175730)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "custom_attributes" ("id" bigserial primary key, "name" character varying, "description" text, "inference_enabled" boolean, "inference_prompt" text, "weight_in_optimization" decimal, "display_color" character varying, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175730') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateSeatingInstructions (20250904175734)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "seating_instructions" ("id" bigserial primary key, "seating_event_id" bigint NOT NULL, "instruction_text" text, "parsed_constraints" jsonb, "ai_interpretation" jsonb, "applied" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_89a73132e9"
FOREIGN KEY ("seating_event_id")
  REFERENCES "seating_events" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_seating_instructions_on_seating_event_id" ON "seating_instructions" ("seating_event_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175734') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateCostTrackings (20250904175739)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "cost_trackings" ("id" bigserial primary key, "user_id" bigint NOT NULL, "request_id" character varying, "ai_model_used" character varying, "input_tokens" integer, "output_tokens" integer, "cost_estimate" decimal, "purpose" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_43ae47ab24"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_cost_trackings_on_user_id" ON "cost_trackings" ("user_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175739') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to AddDeviseToUsers (20250904180822)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[31mROLLBACK /*application='SeatingCharter'*/[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT pg_advisory_unlock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mSET search_path TO public /*application='SeatingCharter'*/[0m
  [1m[35m (42.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "seating_charter_development" /*application='SeatingCharter'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='SeatingCharter'*/[0m
  [1m[35m (38.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "seating_charter_test" /*application='SeatingCharter'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mSET search_path TO public /*application='SeatingCharter'*/[0m
  [1m[35m (87.8ms)[0m  [1m[35mCREATE DATABASE "seating_charter_development" ENCODING = 'unicode' /*application='SeatingCharter'*/[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mSET search_path TO public /*application='SeatingCharter'*/[0m
  [1m[35m (88.6ms)[0m  [1m[35mCREATE DATABASE "seating_charter_test" ENCODING = 'unicode' /*application='SeatingCharter'*/[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='SeatingCharter'*/[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (0) /*application='SeatingCharter'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-04 18:09:52.373304', '2025-09-04 18:09:52.373307') RETURNING "key" /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '9c6777daaa6ce85cc74b26c38000144a7834a947', '2025-09-04 18:09:52.377255', '2025-09-04 18:09:52.377257') RETURNING "key" /*application='SeatingCharter'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
Migrating to DeviseCreateUsers (20250904175625)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "role" integer DEFAULT 0 NOT NULL, "first_name" character varying, "last_name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='SeatingCharter'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='SeatingCharter'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='SeatingCharter'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_users_on_role" ON "users" ("role") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175625') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateCohorts (20250904175633)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "cohorts" ("id" bigserial primary key, "name" character varying NOT NULL, "description" text, "start_date" date NOT NULL, "end_date" date NOT NULL, "user_id" bigint NOT NULL, "max_students" integer DEFAULT 40 NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5515141c12"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_cohorts_on_user_id" ON "cohorts" ("user_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175633') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateStudents (20250904175641)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "students" ("id" bigserial primary key, "name" character varying, "title" character varying, "organization" character varying, "location" character varying, "cohort_id" bigint NOT NULL, "student_attributes" jsonb, "inferences" jsonb, "confidence_scores" jsonb, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b70571e3bf"
FOREIGN KEY ("cohort_id")
  REFERENCES "cohorts" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_students_on_cohort_id" ON "students" ("cohort_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175641') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateImportSessions (20250904175645)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "import_sessions" ("id" bigserial primary key, "cohort_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer, "file_name" character varying, "file_size" integer, "processed_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a5037db12b"
FOREIGN KEY ("cohort_id")
  REFERENCES "cohorts" ("id")
, CONSTRAINT "fk_rails_25c4555ade"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_import_sessions_on_cohort_id" ON "import_sessions" ("cohort_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_import_sessions_on_user_id" ON "import_sessions" ("user_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175645') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateStudentImportRecords (20250904175650)
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "student_import_records" ("id" bigserial primary key, "import_session_id" bigint NOT NULL, "student_id" bigint NOT NULL, "raw_data" jsonb, "ai_inferences" jsonb, "corrections" jsonb, "feedback_provided" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d59a5c2fdc"
FOREIGN KEY ("import_session_id")
  REFERENCES "import_sessions" ("id")
, CONSTRAINT "fk_rails_d9049a0c58"
FOREIGN KEY ("student_id")
  REFERENCES "students" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_student_import_records_on_import_session_id" ON "student_import_records" ("import_session_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_student_import_records_on_student_id" ON "student_import_records" ("student_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175650') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateSeatingEvents (20250904175654)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "seating_events" ("id" bigserial primary key, "cohort_id" bigint NOT NULL, "name" character varying, "event_type" integer, "event_date" date, "table_size" integer, "total_tables" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_c4f4e07de7"
FOREIGN KEY ("cohort_id")
  REFERENCES "cohorts" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_seating_events_on_cohort_id" ON "seating_events" ("cohort_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175654') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateSeatingArrangements (20250904175659)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "seating_arrangements" ("id" bigserial primary key, "seating_event_id" bigint NOT NULL, "optimization_scores" jsonb, "arrangement_data" jsonb, "created_by_id" bigint NOT NULL, "diversity_metrics" jsonb, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5984d217ad"
FOREIGN KEY ("seating_event_id")
  REFERENCES "seating_events" ("id")
, CONSTRAINT "fk_rails_4924591716"
FOREIGN KEY ("created_by_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_seating_arrangements_on_seating_event_id" ON "seating_arrangements" ("seating_event_id") /*application='SeatingCharter'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_seating_arrangements_on_created_by_id" ON "seating_arrangements" ("created_by_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175659') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateTableAssignments (20250904175703)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "table_assignments" ("id" bigserial primary key, "seating_arrangement_id" bigint NOT NULL, "student_id" bigint NOT NULL, "table_number" integer, "seat_position" integer, "locked" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_79afa87324"
FOREIGN KEY ("seating_arrangement_id")
  REFERENCES "seating_arrangements" ("id")
, CONSTRAINT "fk_rails_586280c549"
FOREIGN KEY ("student_id")
  REFERENCES "students" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_table_assignments_on_seating_arrangement_id" ON "table_assignments" ("seating_arrangement_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_table_assignments_on_student_id" ON "table_assignments" ("student_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175703') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateInteractionTrackings (20250904175712)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "interaction_trackings" ("id" bigserial primary key, "student_a_id" bigint NOT NULL, "student_b_id" bigint NOT NULL, "seating_event_id" bigint NOT NULL, "interaction_count" integer DEFAULT 0 NOT NULL, "last_interaction" date, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_841cd3c611"
FOREIGN KEY ("student_a_id")
  REFERENCES "students" ("id")
, CONSTRAINT "fk_rails_76c379c83a"
FOREIGN KEY ("student_b_id")
  REFERENCES "students" ("id")
, CONSTRAINT "fk_rails_d9a1278622"
FOREIGN KEY ("seating_event_id")
  REFERENCES "seating_events" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_interaction_trackings_on_student_a_id" ON "interaction_trackings" ("student_a_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_interaction_trackings_on_student_b_id" ON "interaction_trackings" ("student_b_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_interaction_trackings_on_seating_event_id" ON "interaction_trackings" ("seating_event_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_interaction_trackings_on_student_a_id_and_student_b_id" ON "interaction_trackings" ("student_a_id", "student_b_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175712') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateInferenceFeedbacks (20250904175716)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "inference_feedbacks" ("id" bigserial primary key, "student_import_record_id" bigint NOT NULL, "field_name" character varying, "original_inference" character varying, "corrected_value" character varying, "feedback_type" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_fe765e7f51"
FOREIGN KEY ("student_import_record_id")
  REFERENCES "student_import_records" ("id")
, CONSTRAINT "fk_rails_d3c7a6d4f7"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_inference_feedbacks_on_student_import_record_id" ON "inference_feedbacks" ("student_import_record_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_inference_feedbacks_on_user_id" ON "inference_feedbacks" ("user_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175716') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateAiConfigurations (20250904175725)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "ai_configurations" ("id" bigserial primary key, "ai_model_name" character varying, "api_endpoint" character varying, "temperature" decimal, "max_tokens" integer, "batch_size" integer, "retry_attempts" integer, "cost_per_token" decimal, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175725') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateCustomAttributes (20250904175730)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "custom_attributes" ("id" bigserial primary key, "name" character varying, "description" text, "inference_enabled" boolean, "inference_prompt" text, "weight_in_optimization" decimal, "display_color" character varying, "active" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175730') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateSeatingInstructions (20250904175734)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "seating_instructions" ("id" bigserial primary key, "seating_event_id" bigint NOT NULL, "instruction_text" text, "parsed_constraints" jsonb, "ai_interpretation" jsonb, "applied" boolean, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_89a73132e9"
FOREIGN KEY ("seating_event_id")
  REFERENCES "seating_events" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_seating_instructions_on_seating_event_id" ON "seating_instructions" ("seating_event_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175734') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateCostTrackings (20250904175739)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "cost_trackings" ("id" bigserial primary key, "user_id" bigint NOT NULL, "request_id" character varying, "ai_model_used" character varying, "input_tokens" integer, "output_tokens" integer, "cost_estimate" decimal, "purpose" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_43ae47ab24"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_cost_trackings_on_user_id" ON "cost_trackings" ("user_id") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904175739') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'admin@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'admin@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "role", "first_name", "last_name", "created_at", "updated_at") VALUES ('admin@chds.edu', '$2a$12$z/bVQbcFjtSK6PA6dUGfC.2T5e49tB43EVhS5GdFWKnu/QnKsS3Py', NULL, NULL, NULL, 1, 'System', 'Administrator', '2025-09-04 18:11:41.182950', '2025-09-04 18:11:41.182950') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'instructor@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'instructor@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "role", "first_name", "last_name", "created_at", "updated_at") VALUES ('instructor@chds.edu', '$2a$12$/DktsdIKvOjXHAlT52oZN.pmadbUQ5yn85w2JqpxWfy2YE4dcUg8y', NULL, NULL, NULL, 0, 'Dr. Jane', 'Smith', '2025-09-04 18:11:41.579609', '2025-09-04 18:11:41.579609') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mAiConfiguration Load (0.6ms)[0m  [1m[34mSELECT "ai_configurations".* FROM "ai_configurations" WHERE "ai_configurations"."ai_model_name" = 'gpt-4o' LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mAiConfiguration Create (0.4ms)[0m  [1m[32mINSERT INTO "ai_configurations" ("ai_model_name", "api_endpoint", "temperature", "max_tokens", "batch_size", "retry_attempts", "cost_per_token", "active", "created_at", "updated_at") VALUES ('gpt-4o', 'https://api.openai.com/v1/chat/completions', 0.1, 4000, 8, 3, 0.00001, TRUE, '2025-09-04 18:11:41.620022', '2025-09-04 18:11:41.620022') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mCustomAttribute Load (0.6ms)[0m  [1m[34mSELECT "custom_attributes".* FROM "custom_attributes" WHERE "custom_attributes"."name" = 'Security_Clearance' LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mCustomAttribute Create (0.5ms)[0m  [1m[32mINSERT INTO "custom_attributes" ("name", "description", "inference_enabled", "inference_prompt", "weight_in_optimization", "display_color", "active", "created_at", "updated_at") VALUES ('Security_Clearance', 'Security clearance level (None, Secret, Top Secret)', TRUE, 'Infer security clearance level based on organization and title', 0.3, '#1f2937', TRUE, '2025-09-04 18:11:41.643518', '2025-09-04 18:11:41.643518') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mCustomAttribute Load (3.5ms)[0m  [1m[34mSELECT "custom_attributes".* FROM "custom_attributes" WHERE "custom_attributes"."name" = 'Years_Experience' LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mCustomAttribute Create (1.5ms)[0m  [1m[32mINSERT INTO "custom_attributes" ("name", "description", "inference_enabled", "inference_prompt", "weight_in_optimization", "display_color", "active", "created_at", "updated_at") VALUES ('Years_Experience', 'Years of experience in emergency management', TRUE, 'Infer years of experience based on title and seniority', 0.2, '#059669', TRUE, '2025-09-04 18:11:41.658368', '2025-09-04 18:11:41.658368') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mCustomAttribute Load (0.2ms)[0m  [1m[34mSELECT "custom_attributes".* FROM "custom_attributes" WHERE "custom_attributes"."name" = 'Geographic_Region' LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mCustomAttribute Create (1.4ms)[0m  [1m[32mINSERT INTO "custom_attributes" ("name", "description", "inference_enabled", "inference_prompt", "weight_in_optimization", "display_color", "active", "created_at", "updated_at") VALUES ('Geographic_Region', 'Geographic region (West, Central, East, International)', TRUE, 'Determine geographic region based on location', 0.4, '#dc2626', TRUE, '2025-09-04 18:11:41.677644', '2025-09-04 18:11:41.677644') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mCohort Load (0.6ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."name" = 'Emergence 2501' LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mCohort Create (0.7ms)[0m  [1m[32mINSERT INTO "cohorts" ("name", "description", "start_date", "end_date", "user_id", "max_students", "created_at", "updated_at") VALUES ('Emergence 2501', 'CHDS Emergence Program - January 2025 Cohort focusing on emerging threats and innovative emergency management strategies', '2025-01-13', '2025-01-17', 2, 40, '2025-09-04 18:11:41.711575', '2025-09-04 18:11:41.711575') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Paul Adcox' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (0.6ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Paul Adcox', 'Mobilization Officer', 'Nevada Army National Guard', 'Reno, NV', 1, NULL, '{"gender":{"value":"male","confidence":0.92},"agency_level":{"value":"state","confidence":0.95},"department_type":{"value":"military","confidence":0.98},"seniority_level":{"value":"mid","confidence":0.75}}', '{"gender":0.92,"agency_level":0.95,"department_type":0.98,"seniority_level":0.75}', '2025-09-04 18:11:41.745042', '2025-09-04 18:11:41.745042') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'David Baker' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.1ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('David Baker', 'Deportation Officer', 'DHS – Immigration and Customs Enforcement', 'Nashville, TN', 1, NULL, '{"gender":{"value":"male","confidence":0.94},"agency_level":{"value":"federal","confidence":0.98},"department_type":{"value":"law_enforcement","confidence":0.95},"seniority_level":{"value":"mid","confidence":0.8}}', '{"gender":0.94,"agency_level":0.98,"department_type":0.95,"seniority_level":0.8}', '2025-09-04 18:11:41.753781', '2025-09-04 18:11:41.753781') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Evan Bart' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.9ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Evan Bart', 'Security Manager', 'The Walt Disney Company', 'Clermont, FL', 1, NULL, '{"gender":{"value":"male","confidence":0.88},"agency_level":{"value":"private","confidence":0.99},"department_type":{"value":"security","confidence":0.92},"seniority_level":{"value":"senior","confidence":0.85}}', '{"gender":0.88,"agency_level":0.99,"department_type":0.92,"seniority_level":0.85}', '2025-09-04 18:11:41.763241', '2025-09-04 18:11:41.763241') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Sarah Chen' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.5ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Sarah Chen', 'Emergency Management Director', 'Santa Clara County', 'San Jose, CA', 1, NULL, '{"gender":{"value":"female","confidence":0.96},"agency_level":{"value":"local","confidence":0.95},"department_type":{"value":"emergency_management","confidence":0.98},"seniority_level":{"value":"executive","confidence":0.9}}', '{"gender":0.96,"agency_level":0.95,"department_type":0.98,"seniority_level":0.9}', '2025-09-04 18:11:41.782593', '2025-09-04 18:11:41.782593') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Michael Rodriguez' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (2.1ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Michael Rodriguez', 'Fire Chief', 'Austin Fire Department', 'Austin, TX', 1, NULL, '{"gender":{"value":"male","confidence":0.93},"agency_level":{"value":"local","confidence":0.97},"department_type":{"value":"fire","confidence":0.99},"seniority_level":{"value":"executive","confidence":0.95}}', '{"gender":0.93,"agency_level":0.97,"department_type":0.99,"seniority_level":0.95}', '2025-09-04 18:11:41.790641', '2025-09-04 18:11:41.790641') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Jennifer Williams' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.4ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Jennifer Williams', 'Intelligence Analyst', 'FBI', 'Washington, DC', 1, NULL, '{"gender":{"value":"female","confidence":0.95},"agency_level":{"value":"federal","confidence":0.99},"department_type":{"value":"law_enforcement","confidence":0.96},"seniority_level":{"value":"mid","confidence":0.78}}', '{"gender":0.95,"agency_level":0.99,"department_type":0.96,"seniority_level":0.78}', '2025-09-04 18:11:41.799118', '2025-09-04 18:11:41.799118') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Robert Johnson' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.2ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Robert Johnson', 'Coast Guard Commander', 'US Coast Guard', 'Miami, FL', 1, NULL, '{"gender":{"value":"male","confidence":0.91},"agency_level":{"value":"federal","confidence":0.98},"department_type":{"value":"military","confidence":0.97},"seniority_level":{"value":"senior","confidence":0.88}}', '{"gender":0.91,"agency_level":0.98,"department_type":0.97,"seniority_level":0.88}', '2025-09-04 18:11:41.806625', '2025-09-04 18:11:41.806625') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Lisa Thompson' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Lisa Thompson', 'Public Health Emergency Coordinator', 'CDC', 'Atlanta, GA', 1, NULL, '{"gender":{"value":"female","confidence":0.94},"agency_level":{"value":"federal","confidence":0.99},"department_type":{"value":"public_health","confidence":0.95},"seniority_level":{"value":"senior","confidence":0.82}}', '{"gender":0.94,"agency_level":0.99,"department_type":0.95,"seniority_level":0.82}', '2025-09-04 18:11:41.813153', '2025-09-04 18:11:41.813153') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'James Davis' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (3.5ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('James Davis', 'Police Captain', 'LAPD', 'Los Angeles, CA', 1, NULL, '{"gender":{"value":"male","confidence":0.92},"agency_level":{"value":"local","confidence":0.96},"department_type":{"value":"law_enforcement","confidence":0.98},"seniority_level":{"value":"senior","confidence":0.89}}', '{"gender":0.92,"agency_level":0.96,"department_type":0.98,"seniority_level":0.89}', '2025-09-04 18:11:41.818712', '2025-09-04 18:11:41.818712') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Maria Garcia' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Maria Garcia', 'Emergency Management Specialist', 'FEMA Region IX', 'Oakland, CA', 1, NULL, '{"gender":{"value":"female","confidence":0.97},"agency_level":{"value":"federal","confidence":0.98},"department_type":{"value":"emergency_management","confidence":0.96},"seniority_level":{"value":"mid","confidence":0.75}}', '{"gender":0.97,"agency_level":0.98,"department_type":0.96,"seniority_level":0.75}', '2025-09-04 18:11:41.825756', '2025-09-04 18:11:41.825756') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Kevin Lee' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Kevin Lee', 'Cybersecurity Director', 'State of Oregon', 'Salem, OR', 1, NULL, '{"gender":{"value":"male","confidence":0.89},"agency_level":{"value":"state","confidence":0.95},"department_type":{"value":"cybersecurity","confidence":0.97},"seniority_level":{"value":"executive","confidence":0.91}}', '{"gender":0.89,"agency_level":0.95,"department_type":0.97,"seniority_level":0.91}', '2025-09-04 18:11:41.836427', '2025-09-04 18:11:41.836427') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Amanda Wilson' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.7ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Amanda Wilson', 'Disaster Recovery Manager', 'American Red Cross', 'Phoenix, AZ', 1, NULL, '{"gender":{"value":"female","confidence":0.96},"agency_level":{"value":"nonprofit","confidence":0.94},"department_type":{"value":"emergency_management","confidence":0.93},"seniority_level":{"value":"senior","confidence":0.86}}', '{"gender":0.96,"agency_level":0.94,"department_type":0.93,"seniority_level":0.86}', '2025-09-04 18:11:41.840944', '2025-09-04 18:11:41.840944') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Daniel Brown' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.2ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Daniel Brown', 'Homeland Security Advisor', 'State of Florida', 'Tallahassee, FL', 1, NULL, '{"gender":{"value":"male","confidence":0.93},"agency_level":{"value":"state","confidence":0.97},"department_type":{"value":"homeland_security","confidence":0.95},"seniority_level":{"value":"executive","confidence":0.88}}', '{"gender":0.93,"agency_level":0.97,"department_type":0.95,"seniority_level":0.88}', '2025-09-04 18:11:41.847527', '2025-09-04 18:11:41.847527') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Rachel Martinez' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Rachel Martinez', 'Emergency Communications Manager', 'King County', 'Seattle, WA', 1, NULL, '{"gender":{"value":"female","confidence":0.95},"agency_level":{"value":"local","confidence":0.96},"department_type":{"value":"emergency_management","confidence":0.89},"seniority_level":{"value":"senior","confidence":0.83}}', '{"gender":0.95,"agency_level":0.96,"department_type":0.89,"seniority_level":0.83}', '2025-09-04 18:11:41.853167', '2025-09-04 18:11:41.853167') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Christopher Taylor' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.5ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Christopher Taylor', 'Special Agent', 'ATF', 'Denver, CO', 1, NULL, '{"gender":{"value":"male","confidence":0.91},"agency_level":{"value":"federal","confidence":0.98},"department_type":{"value":"law_enforcement","confidence":0.96},"seniority_level":{"value":"mid","confidence":0.79}}', '{"gender":0.91,"agency_level":0.98,"department_type":0.96,"seniority_level":0.79}', '2025-09-04 18:11:41.857942', '2025-09-04 18:11:41.857942') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Nicole Anderson' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Nicole Anderson', 'Public Safety Director', 'City of Portland', 'Portland, OR', 1, NULL, '{"gender":{"value":"female","confidence":0.94},"agency_level":{"value":"local","confidence":0.95},"department_type":{"value":"public_safety","confidence":0.92},"seniority_level":{"value":"executive","confidence":0.9}}', '{"gender":0.94,"agency_level":0.95,"department_type":0.92,"seniority_level":0.9}', '2025-09-04 18:11:41.863952', '2025-09-04 18:11:41.863952') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Matthew Clark' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (6.5ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Matthew Clark', 'Border Patrol Agent', 'US Customs and Border Protection', 'El Paso, TX', 1, NULL, '{"gender":{"value":"male","confidence":0.92},"agency_level":{"value":"federal","confidence":0.98},"department_type":{"value":"law_enforcement","confidence":0.96},"seniority_level":{"value":"entry","confidence":0.72}}', '{"gender":0.92,"agency_level":0.98,"department_type":0.96,"seniority_level":0.72}', '2025-09-04 18:11:41.871432', '2025-09-04 18:11:41.871432') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Jessica White' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.5ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Jessica White', 'Emergency Preparedness Coordinator', 'University of California System', 'Oakland, CA', 1, NULL, '{"gender":{"value":"female","confidence":0.96},"agency_level":{"value":"state","confidence":0.87},"department_type":{"value":"emergency_management","confidence":0.94},"seniority_level":{"value":"mid","confidence":0.76}}', '{"gender":0.96,"agency_level":0.87,"department_type":0.94,"seniority_level":0.76}', '2025-09-04 18:11:41.890241', '2025-09-04 18:11:41.890241') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Andrew Young' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.4ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Andrew Young', 'Deputy Sheriff', 'Maricopa County Sheriff''s Office', 'Phoenix, AZ', 1, NULL, '{"gender":{"value":"male","confidence":0.9},"agency_level":{"value":"local","confidence":0.95},"department_type":{"value":"law_enforcement","confidence":0.97},"seniority_level":{"value":"mid","confidence":0.81}}', '{"gender":0.9,"agency_level":0.95,"department_type":0.97,"seniority_level":0.81}', '2025-09-04 18:11:41.896469', '2025-09-04 18:11:41.896469') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Stephanie King' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Stephanie King', 'Risk Management Director', 'Boeing Company', 'Seattle, WA', 1, NULL, '{"gender":{"value":"female","confidence":0.95},"agency_level":{"value":"private","confidence":0.98},"department_type":{"value":"risk_management","confidence":0.91},"seniority_level":{"value":"executive","confidence":0.89}}', '{"gender":0.95,"agency_level":0.98,"department_type":0.91,"seniority_level":0.89}', '2025-09-04 18:11:41.901576', '2025-09-04 18:11:41.901576') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Thomas Scott' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Thomas Scott', 'Fire Marshal', 'State Fire Marshal''s Office', 'Sacramento, CA', 1, NULL, '{"gender":{"value":"male","confidence":0.93},"agency_level":{"value":"state","confidence":0.96},"department_type":{"value":"fire","confidence":0.98},"seniority_level":{"value":"executive","confidence":0.87}}', '{"gender":0.93,"agency_level":0.96,"department_type":0.98,"seniority_level":0.87}', '2025-09-04 18:11:41.906896', '2025-09-04 18:11:41.906896') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Linda Green' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Linda Green', 'Disaster Services Director', 'Salvation Army', 'Dallas, TX', 1, NULL, '{"gender":{"value":"female","confidence":0.97},"agency_level":{"value":"nonprofit","confidence":0.95},"department_type":{"value":"emergency_management","confidence":0.93},"seniority_level":{"value":"executive","confidence":0.86}}', '{"gender":0.97,"agency_level":0.95,"department_type":0.93,"seniority_level":0.86}', '2025-09-04 18:11:41.913735', '2025-09-04 18:11:41.913735') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Ryan Adams' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (2.2ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Ryan Adams', 'Counterterrorism Analyst', 'Joint Terrorism Task Force', 'New York, NY', 1, NULL, '{"gender":{"value":"male","confidence":0.88},"agency_level":{"value":"federal","confidence":0.97},"department_type":{"value":"intelligence","confidence":0.94},"seniority_level":{"value":"mid","confidence":0.77}}', '{"gender":0.88,"agency_level":0.97,"department_type":0.94,"seniority_level":0.77}', '2025-09-04 18:11:41.921619', '2025-09-04 18:11:41.921619') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Karen Nelson' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.4ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Karen Nelson', 'Public Health Director', 'Multnomah County Health Department', 'Portland, OR', 1, NULL, '{"gender":{"value":"female","confidence":0.96},"agency_level":{"value":"local","confidence":0.94},"department_type":{"value":"public_health","confidence":0.97},"seniority_level":{"value":"executive","confidence":0.91}}', '{"gender":0.96,"agency_level":0.94,"department_type":0.97,"seniority_level":0.91}', '2025-09-04 18:11:41.928415', '2025-09-04 18:11:41.928415') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Brian Carter' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.2ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Brian Carter', 'Emergency Management Officer', 'US Air Force', 'Colorado Springs, CO', 1, NULL, '{"gender":{"value":"male","confidence":0.91},"agency_level":{"value":"federal","confidence":0.98},"department_type":{"value":"military","confidence":0.97},"seniority_level":{"value":"senior","confidence":0.84}}', '{"gender":0.91,"agency_level":0.98,"department_type":0.97,"seniority_level":0.84}', '2025-09-04 18:11:41.933193', '2025-09-04 18:11:41.933193') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Heather Mitchell' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.6ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Heather Mitchell', 'Security Specialist', 'Port of Los Angeles', 'Los Angeles, CA', 1, NULL, '{"gender":{"value":"female","confidence":0.94},"agency_level":{"value":"local","confidence":0.92},"department_type":{"value":"security","confidence":0.95},"seniority_level":{"value":"mid","confidence":0.78}}', '{"gender":0.94,"agency_level":0.92,"department_type":0.95,"seniority_level":0.78}', '2025-09-04 18:11:41.938287', '2025-09-04 18:11:41.938287') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Mark Roberts' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.6ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Mark Roberts', 'Critical Infrastructure Protection Manager', 'Pacific Gas & Electric', 'San Francisco, CA', 1, NULL, '{"gender":{"value":"male","confidence":0.92},"agency_level":{"value":"private","confidence":0.98},"department_type":{"value":"infrastructure","confidence":0.94},"seniority_level":{"value":"senior","confidence":0.85}}', '{"gender":0.92,"agency_level":0.98,"department_type":0.94,"seniority_level":0.85}', '2025-09-04 18:11:41.943406', '2025-09-04 18:11:41.943406') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mSeatingEvent Load (0.8ms)[0m  [1m[34mSELECT "seating_events".* FROM "seating_events" WHERE "seating_events"."name" = 'Day 1 - Opening Session' LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mSeatingEvent Create (0.6ms)[0m  [1m[32mINSERT INTO "seating_events" ("cohort_id", "name", "event_type", "event_date", "table_size", "total_tables", "created_at", "updated_at") VALUES (1, 'Day 1 - Opening Session', 0, '2025-01-13', 4, 7, '2025-09-04 18:11:42.004841', '2025-09-04 18:11:42.004841') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "role", "first_name", "last_name", "created_at", "updated_at") VALUES ('test@chds.edu', '$2a$12$/cQo4TYU7MRS9anq5QXB6erUdbF7jsqvEcBPlkeq12iZtHEOR7qAW', NULL, NULL, NULL, 0, NULL, NULL, '2025-09-04 18:23:24.631326', '2025-09-04 18:23:24.631326') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Load (0.4ms)[0m  [1m[34mSELECT "ai_configurations".* FROM "ai_configurations" WHERE "ai_configurations"."ai_model_name" = 'gpt-4o-mini' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "ai_configurations" WHERE "ai_configurations"."active" = TRUE AND "ai_configurations"."id" IS NOT NULL LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ app/models/ai_configuration.rb:47:in 'AiConfiguration#only_one_active_configuration'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mCohort Load (0.4ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."name" = 'Test Cohort 2024' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:43:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:43:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:43:in 'block (2 levels) in <main>'
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'John Smith' AND "students"."cohort_id" IS NULL LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:69:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:69:in 'block (3 levels) in <main>'
  [1m[36mStudent Create (0.6ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('John Smith', 'Supervisory Special Agent', 'FBI', 'Washington, DC', NULL, NULL, NULL, NULL, '2025-09-04 18:23:24.721036', '2025-09-04 18:23:24.721036') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:69:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:69:in 'block (3 levels) in <main>'
  [1m[36mCohort Load (0.8ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."name" = 'Test Cohort 2024' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:150:in 'block (2 levels) in <main>'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:156:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:158:in 'block (2 levels) in <main>'
  [1m[36mCohort Load (0.3ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."user_id" = 3 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:158:in 'block (2 levels) in <main>'
  [1m[36mImportSession Load (1.8ms)[0m  [1m[34mSELECT "import_sessions".* FROM "import_sessions" WHERE "import_sessions"."user_id" = 3 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:158:in 'block (2 levels) in <main>'
  [1m[36mInferenceFeedback Load (1.5ms)[0m  [1m[34mSELECT "inference_feedbacks".* FROM "inference_feedbacks" WHERE "inference_feedbacks"."user_id" = 3 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:158:in 'block (2 levels) in <main>'
  [1m[36mCostTracking Load (0.8ms)[0m  [1m[34mSELECT "cost_trackings".* FROM "cost_trackings" WHERE "cost_trackings"."user_id" = 3 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:158:in 'block (2 levels) in <main>'
  [1m[36mSeatingArrangement Load (0.7ms)[0m  [1m[34mSELECT "seating_arrangements".* FROM "seating_arrangements" WHERE "seating_arrangements"."created_by_id" = 3 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:158:in 'block (2 levels) in <main>'
  [1m[36mUser Destroy (0.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 3 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:158:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:158:in 'block (2 levels) in <main>'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "role", "first_name", "last_name", "created_at", "updated_at") VALUES ('test@chds.edu', '$2a$12$CNlCFfndMLSwVfuuljEPXe3eYEe8c3aBXWaYF5rYxmg0s7HzLdsgq', NULL, NULL, NULL, 0, NULL, NULL, '2025-09-04 18:23:43.318902', '2025-09-04 18:23:43.318902') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Load (0.4ms)[0m  [1m[34mSELECT "ai_configurations".* FROM "ai_configurations" WHERE "ai_configurations"."ai_model_name" = 'gpt-4o-mini' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "ai_configurations" WHERE "ai_configurations"."active" = TRUE AND "ai_configurations"."id" IS NOT NULL LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ app/models/ai_configuration.rb:47:in 'AiConfiguration#only_one_active_configuration'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mCohort Load (0.5ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."name" = 'Test Cohort 2024' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:43:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:43:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:43:in 'block (2 levels) in <main>'
  [1m[36mStudent Load (2.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'John Smith' AND "students"."cohort_id" IS NULL LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:69:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:69:in 'block (3 levels) in <main>'
  [1m[36mStudent Create (3.0ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('John Smith', 'Supervisory Special Agent', 'FBI', 'Washington, DC', NULL, NULL, NULL, NULL, '2025-09-04 18:23:43.473678', '2025-09-04 18:23:43.473678') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:69:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:69:in 'block (3 levels) in <main>'
  [1m[36mCohort Load (0.6ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."name" = 'Test Cohort 2024' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:154:in 'block (2 levels) in <main>'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:160:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mCohort Load (0.2ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."user_id" = 4 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mImportSession Load (0.5ms)[0m  [1m[34mSELECT "import_sessions".* FROM "import_sessions" WHERE "import_sessions"."user_id" = 4 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mInferenceFeedback Load (0.4ms)[0m  [1m[34mSELECT "inference_feedbacks".* FROM "inference_feedbacks" WHERE "inference_feedbacks"."user_id" = 4 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mCostTracking Load (0.5ms)[0m  [1m[34mSELECT "cost_trackings".* FROM "cost_trackings" WHERE "cost_trackings"."user_id" = 4 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mSeatingArrangement Load (0.4ms)[0m  [1m[34mSELECT "seating_arrangements".* FROM "seating_arrangements" WHERE "seating_arrangements"."created_by_id" = 4 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mUser Destroy (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 4 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "role", "first_name", "last_name", "created_at", "updated_at") VALUES ('test@chds.edu', '$2a$12$Acxm73m7PhkwnKvfYdN2eeRVq0swi3yNrbJ/2a0FSSdQYZ.6C1haO', NULL, NULL, NULL, 0, NULL, NULL, '2025-09-04 18:23:58.087329', '2025-09-04 18:23:58.087329') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Load (0.3ms)[0m  [1m[34mSELECT "ai_configurations".* FROM "ai_configurations" WHERE "ai_configurations"."ai_model_name" = 'gpt-4o-mini' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "ai_configurations" WHERE "ai_configurations"."active" = TRUE AND "ai_configurations"."id" IS NOT NULL LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ app/models/ai_configuration.rb:47:in 'AiConfiguration#only_one_active_configuration'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mCohort Load (0.4ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."name" = 'Test Cohort 2024' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:43:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:43:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:43:in 'block (2 levels) in <main>'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'John Smith' AND "students"."cohort_id" IS NULL LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:69:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:71:in 'block (3 levels) in <main>'
  [1m[36mStudent Create (1.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('John Smith', 'Supervisory Special Agent', 'FBI', 'Washington, DC', NULL, NULL, NULL, NULL, '2025-09-04 18:23:58.194784', '2025-09-04 18:23:58.194784') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:71:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:71:in 'block (3 levels) in <main>'
  [1m[36mCohort Load (0.5ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."name" = 'Test Cohort 2024' LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (1.5ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('John Test', 'Test Title', 'Test Org', 'Test Location', NULL, NULL, NULL, NULL, '2025-09-04 18:24:10.294166', '2025-09-04 18:24:10.294166') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='SeatingCharter'*/[0m
  [1m[36mCohort Count (52.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "cohorts" /*application='SeatingCharter'*/[0m
  [1m[36mCohort Load (1.8ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" ORDER BY "cohorts"."id" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mCohort Load (0.6ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" ORDER BY "cohorts"."id" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mCohort Load (4.0ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mStudent Create (0.5ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('John Test', 'Test Title', 'Test Org', 'Test Location', 1, NULL, NULL, NULL, '2025-09-04 18:24:26.113760', '2025-09-04 18:24:26.113760') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mCohort Load (0.9ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."name" = 'Test Cohort 2024' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:154:in 'block (2 levels) in <main>'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:160:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mCohort Load (0.2ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."user_id" = 5 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mImportSession Load (0.4ms)[0m  [1m[34mSELECT "import_sessions".* FROM "import_sessions" WHERE "import_sessions"."user_id" = 5 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mInferenceFeedback Load (0.4ms)[0m  [1m[34mSELECT "inference_feedbacks".* FROM "inference_feedbacks" WHERE "inference_feedbacks"."user_id" = 5 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mCostTracking Load (0.3ms)[0m  [1m[34mSELECT "cost_trackings".* FROM "cost_trackings" WHERE "cost_trackings"."user_id" = 5 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mSeatingArrangement Load (0.4ms)[0m  [1m[34mSELECT "seating_arrangements".* FROM "seating_arrangements" WHERE "seating_arrangements"."created_by_id" = 5 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mUser Destroy (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = 5 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:162:in 'block (2 levels) in <main>'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "role", "first_name", "last_name", "created_at", "updated_at") VALUES ('test@chds.edu', '$2a$12$aa0AkTlslWIAMEzuXkTUEeNQMCU7HHgpDvmf.mRN.7bFcUsTIwBXK', NULL, NULL, NULL, 0, NULL, NULL, '2025-09-04 18:24:43.612648', '2025-09-04 18:24:43.612648') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Load (0.4ms)[0m  [1m[34mSELECT "ai_configurations".* FROM "ai_configurations" WHERE "ai_configurations"."ai_model_name" = 'gpt-4o-mini' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "ai_configurations" WHERE "ai_configurations"."active" = TRUE AND "ai_configurations"."id" IS NOT NULL LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ app/models/ai_configuration.rb:47:in 'AiConfiguration#only_one_active_configuration'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mCohort Load (0.3ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."name" = 'Test Cohort 2024' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:43:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:43:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:43:in 'block (2 levels) in <main>'
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'John Smith' AND "students"."cohort_id" IS NULL LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:69:in 'block (3 levels) in <main>'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Load (0.8ms)[0m  [1m[34mSELECT "ai_configurations".* FROM "ai_configurations" WHERE "ai_configurations"."ai_model_name" = 'gpt-4o-mini' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "ai_configurations" WHERE "ai_configurations"."active" = TRUE AND "ai_configurations"."id" IS NOT NULL LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ app/models/ai_configuration.rb:47:in 'AiConfiguration#only_one_active_configuration'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mCohort Load (0.5ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" ORDER BY "cohorts"."id" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:43:in 'block (2 levels) in <main>'
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'John Smith' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:75:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:77:in 'block (3 levels) in <main>'
  [1m[36mCohort Load (1.1ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:77:in 'block (3 levels) in <main>'
  [1m[36mStudent Create (0.6ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('John Smith', 'Supervisory Special Agent', 'FBI', 'Washington, DC', 1, NULL, NULL, NULL, '2025-09-04 18:25:03.632671', '2025-09-04 18:25:03.632671') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:77:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:77:in 'block (3 levels) in <main>'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Sarah Johnson' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:75:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:77:in 'block (3 levels) in <main>'
  [1m[36mCohort Load (1.7ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:77:in 'block (3 levels) in <main>'
  [1m[36mStudent Create (0.3ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Sarah Johnson', 'Captain', 'U.S. Army', 'Fort Bragg, NC', 1, NULL, NULL, NULL, '2025-09-04 18:25:03.640435', '2025-09-04 18:25:03.640435') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:77:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:77:in 'block (3 levels) in <main>'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Michael Davis' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:75:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:77:in 'block (3 levels) in <main>'
  [1m[36mCohort Load (1.1ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:77:in 'block (3 levels) in <main>'
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("name", "title", "organization", "location", "cohort_id", "student_attributes", "inferences", "confidence_scores", "created_at", "updated_at") VALUES ('Michael Davis', 'Emergency Management Director', 'City of Phoenix', 'Phoenix, AZ', 1, NULL, NULL, NULL, '2025-09-04 18:25:03.649214', '2025-09-04 18:25:03.649214') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:77:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:77:in 'block (3 levels) in <main>'
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:93:in 'block (2 levels) in <main>'
  [1m[36mStudent Load (3.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."cohort_id" = 1 LIMIT 3 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:111:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:119:in 'block (3 levels) in <main>'
  [1m[36mStudent Update (6.1ms)[0m  [1m[33mUPDATE "students" SET "inferences" = '{"gender":{"value":"male","confidence":0.9},"agency_level":{"value":"military","confidence":0.85},"department_type":{"value":"military","confidence":0.98},"seniority_level":{"value":"mid","confidence":0.75}}', "updated_at" = '2025-09-04 18:25:03.668469' WHERE "students"."id" = 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:119:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:119:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:119:in 'block (3 levels) in <main>'
  [1m[36mStudent Update (0.9ms)[0m  [1m[33mUPDATE "students" SET "inferences" = '{"gender":{"value":"male","confidence":0.9},"agency_level":{"value":"federal","confidence":0.85},"department_type":{"value":"law_enforcement","confidence":0.95},"seniority_level":{"value":"mid","confidence":0.8}}', "updated_at" = '2025-09-04 18:25:03.695002' WHERE "students"."id" = 2 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:119:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:119:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:119:in 'block (3 levels) in <main>'
  [1m[36mStudent Update (0.8ms)[0m  [1m[33mUPDATE "students" SET "inferences" = '{"gender":{"value":"unknown","confidence":0.3},"agency_level":{"value":"unknown","confidence":0.3},"department_type":{"value":"security","confidence":0.92},"seniority_level":{"value":"senior","confidence":0.85}}', "updated_at" = '2025-09-04 18:25:03.700263' WHERE "students"."id" = 3 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:119:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:119:in 'block (3 levels) in <main>'
  [1m[36mCostTracking Sum (1.5ms)[0m  [1m[34mSELECT SUM("cost_trackings"."cost_estimate") FROM "cost_trackings" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:131:in 'block (2 levels) in <main>'
  [1m[36mCostTracking Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "cost_trackings" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:132:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ai_configurations" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:141:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ai_configurations" WHERE "ai_configurations"."active" = TRUE /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:141:in 'block (2 levels) in <main>'
  [1m[36mStudent Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."cohort_id" = 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:143:in 'block (2 levels) in <main>'
  [1m[36mCostTracking Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cost_trackings" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:144:in 'block (2 levels) in <main>'
Started GET "/admin/ai_configurations" for ::1 at 2025-09-04 11:25:09 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
Processing by Admin::AiConfigurationsController#index as */*
Completed 401 Unauthorized in 104ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 14.2ms)


  [1m[36mCohort Load (0.6ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" ORDER BY "cohorts"."id" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."cohort_id" = 1 LIMIT 3 /*application='SeatingCharter'*/[0m
  [1m[36mCohort Load (0.5ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" ORDER BY "cohorts"."id" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."cohort_id" = 1 LIMIT 3 /*application='SeatingCharter'*/[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = 'test@chds.edu' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:9:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Load (0.3ms)[0m  [1m[34mSELECT "ai_configurations".* FROM "ai_configurations" WHERE "ai_configurations"."ai_model_name" = 'gpt-4o-mini' LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "ai_configurations" WHERE "ai_configurations"."active" = TRUE AND "ai_configurations"."id" IS NOT NULL LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ app/models/ai_configuration.rb:47:in 'AiConfiguration#only_one_active_configuration'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:17:in 'block (2 levels) in <main>'
  [1m[36mCohort Load (0.6ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" ORDER BY "cohorts"."id" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:43:in 'block (2 levels) in <main>'
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'John Smith' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:75:in 'block (3 levels) in <main>'
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Sarah Johnson' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:75:in 'block (3 levels) in <main>'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."name" = 'Michael Davis' AND "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:75:in 'block (3 levels) in <main>'
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."cohort_id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:93:in 'block (2 levels) in <main>'
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."cohort_id" = 1 LIMIT 3 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:111:in 'block (2 levels) in <main>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:119:in 'block (3 levels) in <main>'
  [1m[36mStudent Update (1.4ms)[0m  [1m[33mUPDATE "students" SET "inferences" = '{"gender":{"value":"female","confidence":0.9},"agency_level":{"value":"unknown","confidence":0.3},"department_type":{"value":"emergency_management","confidence":0.98},"seniority_level":{"value":"executive","confidence":0.9}}', "updated_at" = '2025-09-04 18:26:15.490705' WHERE "students"."id" = 4 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:119:in 'block (3 levels) in <main>'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:119:in 'block (3 levels) in <main>'
  [1m[36mCostTracking Sum (0.3ms)[0m  [1m[34mSELECT SUM("cost_trackings"."cost_estimate") FROM "cost_trackings" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:131:in 'block (2 levels) in <main>'
  [1m[36mCostTracking Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "cost_trackings" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:132:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ai_configurations" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:141:in 'block (2 levels) in <main>'
  [1m[36mAiConfiguration Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ai_configurations" WHERE "ai_configurations"."active" = TRUE /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:141:in 'block (2 levels) in <main>'
  [1m[36mStudent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."cohort_id" = 1 /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:143:in 'block (2 levels) in <main>'
  [1m[36mCostTracking Count (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "cost_trackings" /*application='SeatingCharter'*/[0m
  ↳ lib/tasks/phase2_test.rake:144:in 'block (2 levels) in <main>'
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mAiConfiguration Update All (0.7ms)[0m  [1m[33mUPDATE "ai_configurations" SET "active" = FALSE /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/models/ai_configuration.rb:49:in 'AiConfiguration#only_one_active_configuration'
  [1m[36mAiConfiguration Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "ai_configurations" WHERE "ai_configurations"."active" = TRUE AND "ai_configurations"."id" IS NOT NULL LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ app/models/ai_configuration.rb:49:in 'AiConfiguration#only_one_active_configuration'
  [1m[36mAiConfiguration Update All (0.2ms)[0m  [1m[33mUPDATE "ai_configurations" SET "active" = FALSE WHERE "ai_configurations"."id" IS NOT NULL /*application='SeatingCharter'*/[0m
  ↳ app/models/ai_configuration.rb:56:in 'AiConfiguration#deactivate_others_if_active'
  [1m[36mAiConfiguration Create (0.6ms)[0m  [1m[32mINSERT INTO "ai_configurations" ("ai_model_name", "api_endpoint", "temperature", "max_tokens", "batch_size", "retry_attempts", "cost_per_token", "active", "created_at", "updated_at") VALUES ('gpt-5', 'https://api.openai.com/v1/chat/completions', 0.3, 4000, 10, 3, 0.00002, TRUE, '2025-09-04 18:47:17.285003', '2025-09-04 18:47:17.285003') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for ::1 at 2025-09-04 11:50:39 -0700
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
Processing by DashboardController#index as HTML
Completed 401 Unauthorized in 104ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 11:50:40 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /opt/homebrew/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /opt/homebrew/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/shared/_links.html.erb (Duration: 4.6ms | GC: 0.0ms)
  Rendered /opt/homebrew/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 24.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 43.9ms | GC: 0.0ms)
Completed 200 OK in 148ms (Views: 60.5ms | ActiveRecord: 9.2ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-8b441ae0.css" for ::1 at 2025-09-04 11:50:40 -0700
Started GET "/assets/tailwind-8350bad6.css" for ::1 at 2025-09-04 11:50:40 -0700
Started GET "/assets/turbo.min-3a2e143f.js" for ::1 at 2025-09-04 11:50:40 -0700
Started GET "/assets/application-bfcdf840.js" for ::1 at 2025-09-04 11:50:40 -0700
Started GET "/assets/stimulus.min-4b1e420e.js" for ::1 at 2025-09-04 11:50:40 -0700
Started GET "/assets/stimulus-loading-1fc53fe7.js" for ::1 at 2025-09-04 11:50:40 -0700
Started GET "/assets/controllers/application-3affb389.js" for ::1 at 2025-09-04 11:50:40 -0700
Started GET "/assets/controllers/hello_controller-708796bd.js" for ::1 at 2025-09-04 11:50:41 -0700
Started GET "/assets/controllers/index-ee64e1f1.js" for ::1 at 2025-09-04 11:50:41 -0700
Started GET "/assets/stimulus.min-2395e199.js.map" for ::1 at 2025-09-04 11:50:49 -0700
Started GET "/assets/turbo.min-5f3b7fda.js.map" for ::1 at 2025-09-04 11:50:49 -0700
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
Migrating to CreateSeatingRules (20250904190434)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "seating_rules" ("id" bigserial primary key, "seating_event_id" bigint NOT NULL, "rule_type" character varying NOT NULL, "natural_language_input" text NOT NULL, "parsed_rule" jsonb DEFAULT '{}', "confidence_score" decimal(5,4) DEFAULT 0.0, "target_attributes" jsonb DEFAULT '{}', "constraints" jsonb DEFAULT '{}', "priority" integer DEFAULT 1, "active" boolean DEFAULT TRUE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_3e64f4150f"
FOREIGN KEY ("seating_event_id")
  REFERENCES "seating_events" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_seating_rules_on_seating_event_id" ON "seating_rules" ("seating_event_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_seating_rules_on_rule_type" ON "seating_rules" ("rule_type") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_seating_rules_on_active" ON "seating_rules" ("active") /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_seating_rules_on_priority" ON "seating_rules" ("priority") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_seating_rules_on_confidence_score" ON "seating_rules" ("confidence_score") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_seating_rules_on_seating_event_id_and_active" ON "seating_rules" ("seating_event_id", "active") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904190434') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to CreateNaturalLanguageInstructions (20250904190439)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "natural_language_instructions" ("id" bigserial primary key, "seating_event_id" bigint NOT NULL, "instruction_text" text NOT NULL, "parsing_status" character varying DEFAULT 'pending', "parsed_rules" jsonb DEFAULT '[]', "ai_interpretation" jsonb DEFAULT '{}', "confidence_score" decimal(5,4) DEFAULT 0.0, "created_by_id" bigint NOT NULL, "error_message" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_fa026d91d2"
FOREIGN KEY ("seating_event_id")
  REFERENCES "seating_events" ("id")
, CONSTRAINT "fk_rails_611477f53c"
FOREIGN KEY ("created_by_id")
  REFERENCES "users" ("id")
) /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_natural_language_instructions_on_seating_event_id" ON "natural_language_instructions" ("seating_event_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_natural_language_instructions_on_created_by_id" ON "natural_language_instructions" ("created_by_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_natural_language_instructions_on_parsing_status" ON "natural_language_instructions" ("parsing_status") /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_natural_language_instructions_on_confidence_score" ON "natural_language_instructions" ("confidence_score") /*application='SeatingCharter'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "idx_on_seating_event_id_parsing_status_15e9673ea4" ON "natural_language_instructions" ("seating_event_id", "parsing_status") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904190439') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to AddImportMetadataToImportSessions (20250904190539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "import_sessions" ADD "import_metadata" text /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904190539') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mAiConfiguration Load (0.4ms)[0m  [1m[34mSELECT "ai_configurations".* FROM "ai_configurations" WHERE "ai_configurations"."active" = TRUE LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ app/services/openai_service.rb:147:in 'OpenaiService.get_active_configuration'
  [1m[36mUser Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" /*application='SeatingCharter'*/[0m
  [1m[36mCohort Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "cohorts" /*application='SeatingCharter'*/[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mCohort Load (1.1ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" ORDER BY "cohorts"."id" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[36mSeatingEvent Create (4.3ms)[0m  [1m[32mINSERT INTO "seating_events" ("cohort_id", "name", "event_type", "event_date", "table_size", "total_tables", "created_at", "updated_at") VALUES (1, 'Test Event', 0, '2025-09-04', 4, 10, '2025-09-04 19:14:41.004260', '2025-09-04 19:14:41.004260') RETURNING "id" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:6:in 'NaturalLanguageParsingService.parse_instruction'
  [1m[36mNaturalLanguageInstruction Create (4.4ms)[0m  [1m[32mINSERT INTO "natural_language_instructions" ("seating_event_id", "instruction_text", "parsing_status", "parsed_rules", "ai_interpretation", "confidence_score", "created_by_id", "error_message", "created_at", "updated_at") VALUES (2, 'Keep all FBI agents at different tables', 'pending', '[]', '{}', 0.0, 1, NULL, '2025-09-04 19:14:41.082396', '2025-09-04 19:14:41.082396') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:6:in 'NaturalLanguageParsingService.parse_instruction'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:6:in 'NaturalLanguageParsingService.parse_instruction'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:28:in 'NaturalLanguageInstruction#mark_as_processing!'
  [1m[36mNaturalLanguageInstruction Update (1.2ms)[0m  [1m[33mUPDATE "natural_language_instructions" SET "parsing_status" = 'processing', "updated_at" = '2025-09-04 19:14:41.092357' WHERE "natural_language_instructions"."id" = 1 /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:28:in 'NaturalLanguageInstruction#mark_as_processing!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:28:in 'NaturalLanguageInstruction#mark_as_processing!'
  [1m[36mStudent Load (1.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."cohort_id" = 1 LIMIT 100 /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:101:in 'Enumerable#map'
  [1m[36mStudent Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."cohort_id" = 1 /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:118:in 'NaturalLanguageParsingService.get_cohort_attributes'
  [1m[36mAiConfiguration Load (0.4ms)[0m  [1m[34mSELECT "ai_configurations".* FROM "ai_configurations" WHERE "ai_configurations"."active" = TRUE LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ app/services/openai_service.rb:147:in 'OpenaiService.get_active_configuration'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:219:in 'block in NaturalLanguageParsingService.create_seating_rules'
  [1m[36mSeatingRule Create (9.4ms)[0m  [1m[32mINSERT INTO "seating_rules" ("seating_event_id", "rule_type", "natural_language_input", "parsed_rule", "confidence_score", "target_attributes", "constraints", "priority", "active", "created_at", "updated_at") VALUES (2, 'separation', 'Keep all FBI agents at different tables', '{"rule_type":"separation","description":"Ensure no table has more than one attendee from the FBI; all FBI agents must be seated at different tables.","target_attributes":{"organization":["FBI"]},"constraints":{"min_distance":1,"max_per_table":1,"custom_logic":"Attendees with organization=FBI must be assigned to distinct tables (no two FBI agents at the same table)."},"priority":1}', 0.96, '{"organization":["FBI"]}', '{"min_distance":1,"max_per_table":1,"custom_logic":"Attendees with organization=FBI must be assigned to distinct tables (no two FBI agents at the same table)."}', 1, TRUE, '2025-09-04 19:15:01.258608', '2025-09-04 19:15:01.258608') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:219:in 'block in NaturalLanguageParsingService.create_seating_rules'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:219:in 'block in NaturalLanguageParsingService.create_seating_rules'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:32:in 'NaturalLanguageInstruction#mark_as_completed!'
  [1m[36mNaturalLanguageInstruction Update (1.6ms)[0m  [1m[33mUPDATE "natural_language_instructions" SET "parsing_status" = 'completed', "parsed_rules" = '[{"id":1,"seating_event_id":2,"rule_type":"separation","natural_language_input":"Keep all FBI agents at different tables","parsed_rule":{"rule_type":"separation","description":"Ensure no table has more than one attendee from the FBI; all FBI agents must be seated at different tables.","target_attributes":{"organization":["FBI"]},"constraints":{"min_distance":1,"max_per_table":1,"custom_logic":"Attendees with organization=FBI must be assigned to distinct tables (no two FBI agents at the same table)."},"priority":1},"confidence_score":"0.96","target_attributes":{"organization":["FBI"]},"constraints":{"min_distance":1,"max_per_table":1,"custom_logic":"Attendees with organization=FBI must be assigned to distinct tables (no two FBI agents at the same table)."},"priority":1,"active":true,"created_at":"2025-09-04T19:15:01.258Z","updated_at":"2025-09-04T19:15:01.258Z"}]', "ai_interpretation" = '{"confidence":0.96,"interpretation":"All attendees whose organization is FBI must not share the same table with each other.","rules":[{"rule_type":"separation","description":"Ensure no table has more than one attendee from the FBI; all FBI agents must be seated at different tables.","target_attributes":{"organization":["FBI"]},"constraints":{"min_distance":1,"max_per_table":1,"custom_logic":"Attendees with organization=FBI must be assigned to distinct tables (no two FBI agents at the same table)."},"priority":1}],"examples":["Alice (organization: FBI) and Bob (organization: FBI) must be assigned to different tables.","Carol (organization: FBI) can sit with non-FBI attendees but cannot share a table with any other FBI agent."]}', "confidence_score" = 0.96, "updated_at" = '2025-09-04 19:15:01.288933' WHERE "natural_language_instructions"."id" = 1 /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:32:in 'NaturalLanguageInstruction#mark_as_completed!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:32:in 'NaturalLanguageInstruction#mark_as_completed!'
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mSeatingEvent Load (0.6ms)[0m  [1m[34mSELECT "seating_events".* FROM "seating_events" ORDER BY "seating_events"."id" DESC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:6:in 'NaturalLanguageParsingService.parse_instruction'
  [1m[36mNaturalLanguageInstruction Create (2.9ms)[0m  [1m[32mINSERT INTO "natural_language_instructions" ("seating_event_id", "instruction_text", "parsing_status", "parsed_rules", "ai_interpretation", "confidence_score", "created_by_id", "error_message", "created_at", "updated_at") VALUES (2, 'Group all California agencies together', 'pending', '[]', '{}', 0.0, 1, NULL, '2025-09-04 19:15:11.063650', '2025-09-04 19:15:11.063650') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:6:in 'NaturalLanguageParsingService.parse_instruction'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:6:in 'NaturalLanguageParsingService.parse_instruction'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:28:in 'NaturalLanguageInstruction#mark_as_processing!'
  [1m[36mNaturalLanguageInstruction Update (1.3ms)[0m  [1m[33mUPDATE "natural_language_instructions" SET "parsing_status" = 'processing', "updated_at" = '2025-09-04 19:15:11.069274' WHERE "natural_language_instructions"."id" = 2 /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:28:in 'NaturalLanguageInstruction#mark_as_processing!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:28:in 'NaturalLanguageInstruction#mark_as_processing!'
  [1m[36mCohort Load (0.6ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:18:in 'NaturalLanguageParsingService.parse_instruction'
  [1m[36mStudent Load (1.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."cohort_id" = 1 LIMIT 100 /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:101:in 'Enumerable#map'
  [1m[36mStudent Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."cohort_id" = 1 /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:118:in 'NaturalLanguageParsingService.get_cohort_attributes'
  [1m[36mAiConfiguration Load (0.5ms)[0m  [1m[34mSELECT "ai_configurations".* FROM "ai_configurations" WHERE "ai_configurations"."active" = TRUE LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ app/services/openai_service.rb:147:in 'OpenaiService.get_active_configuration'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:219:in 'block in NaturalLanguageParsingService.create_seating_rules'
  [1m[36mSeatingRule Create (8.8ms)[0m  [1m[32mINSERT INTO "seating_rules" ("seating_event_id", "rule_type", "natural_language_input", "parsed_rule", "confidence_score", "target_attributes", "constraints", "priority", "active", "created_at", "updated_at") VALUES (2, 'clustering', 'Group all California agencies together', '{"rule_type":"clustering","description":"Cluster all attendees from California-based agencies together at the same table when possible; if capacity is exceeded, place them across the minimum number of adjacent/nearby tables.","target_attributes":{"location":["California"]},"constraints":{"custom_logic":"Treat ''California agencies'' as organizations whose operational location is California (state or local). Prefer to exclude purely federal agencies unless the organization name explicitly indicates a California state entity. Keep the cluster intact at one table if capacity allows; otherwise, split across as few tables as possible and keep those tables adjacent/near."},"priority":1}', 0.8, '{"location":["California"]}', '{"custom_logic":"Treat ''California agencies'' as organizations whose operational location is California (state or local). Prefer to exclude purely federal agencies unless the organization name explicitly indicates a California state entity. Keep the cluster intact at one table if capacity allows; otherwise, split across as few tables as possible and keep those tables adjacent/near."}', 1, TRUE, '2025-09-04 19:15:41.967869', '2025-09-04 19:15:41.967869') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:219:in 'block in NaturalLanguageParsingService.create_seating_rules'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:219:in 'block in NaturalLanguageParsingService.create_seating_rules'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:32:in 'NaturalLanguageInstruction#mark_as_completed!'
  [1m[36mNaturalLanguageInstruction Update (2.4ms)[0m  [1m[33mUPDATE "natural_language_instructions" SET "parsing_status" = 'completed', "parsed_rules" = '[{"id":2,"seating_event_id":2,"rule_type":"clustering","natural_language_input":"Group all California agencies together","parsed_rule":{"rule_type":"clustering","description":"Cluster all attendees from California-based agencies together at the same table when possible; if capacity is exceeded, place them across the minimum number of adjacent/nearby tables.","target_attributes":{"location":["California"]},"constraints":{"custom_logic":"Treat ''California agencies'' as organizations whose operational location is California (state or local). Prefer to exclude purely federal agencies unless the organization name explicitly indicates a California state entity. Keep the cluster intact at one table if capacity allows; otherwise, split across as few tables as possible and keep those tables adjacent/near."},"priority":1},"confidence_score":"0.8","target_attributes":{"location":["California"]},"constraints":{"custom_logic":"Treat ''California agencies'' as organizations whose operational location is California (state or local). Prefer to exclude purely federal agencies unless the organization name explicitly indicates a California state entity. Keep the cluster intact at one table if capacity allows; otherwise, split across as few tables as possible and keep those tables adjacent/near."},"priority":1,"active":true,"created_at":"2025-09-04T19:15:41.967Z","updated_at":"2025-09-04T19:15:41.967Z"}]', "ai_interpretation" = '{"confidence":0.8,"interpretation":"Seat attendees whose agency is based in California together. Use the ''location'' field to identify California-based agencies (primarily state or local agencies in California).","rules":[{"rule_type":"clustering","description":"Cluster all attendees from California-based agencies together at the same table when possible; if capacity is exceeded, place them across the minimum number of adjacent/nearby tables.","target_attributes":{"location":["California"]},"constraints":{"custom_logic":"Treat ''California agencies'' as organizations whose operational location is California (state or local). Prefer to exclude purely federal agencies unless the organization name explicitly indicates a California state entity. Keep the cluster intact at one table if capacity allows; otherwise, split across as few tables as possible and keep those tables adjacent/near."},"priority":1}],"examples":["Attendee from California Department of Public Health (location: California)","Attendee from Los Angeles County Sheriff''s Department (location: California, agency_level: local)"]}', "confidence_score" = 0.8, "updated_at" = '2025-09-04 19:15:41.999767' WHERE "natural_language_instructions"."id" = 2 /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:32:in 'NaturalLanguageInstruction#mark_as_completed!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:32:in 'NaturalLanguageInstruction#mark_as_completed!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:6:in 'NaturalLanguageParsingService.parse_instruction'
  [1m[36mNaturalLanguageInstruction Create (1.5ms)[0m  [1m[32mINSERT INTO "natural_language_instructions" ("seating_event_id", "instruction_text", "parsing_status", "parsed_rules", "ai_interpretation", "confidence_score", "created_by_id", "error_message", "created_at", "updated_at") VALUES (2, 'Spread military personnel evenly across tables', 'pending', '[]', '{}', 0.0, 1, NULL, '2025-09-04 19:15:42.020151', '2025-09-04 19:15:42.020151') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:6:in 'NaturalLanguageParsingService.parse_instruction'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:6:in 'NaturalLanguageParsingService.parse_instruction'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:28:in 'NaturalLanguageInstruction#mark_as_processing!'
  [1m[36mNaturalLanguageInstruction Update (1.7ms)[0m  [1m[33mUPDATE "natural_language_instructions" SET "parsing_status" = 'processing', "updated_at" = '2025-09-04 19:15:42.034729' WHERE "natural_language_instructions"."id" = 3 /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:28:in 'NaturalLanguageInstruction#mark_as_processing!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:28:in 'NaturalLanguageInstruction#mark_as_processing!'
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."cohort_id" = 1 LIMIT 100 /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:101:in 'Enumerable#map'
  [1m[36mStudent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."cohort_id" = 1 /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:118:in 'NaturalLanguageParsingService.get_cohort_attributes'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:219:in 'block in NaturalLanguageParsingService.create_seating_rules'
  [1m[36mSeatingRule Create (3.1ms)[0m  [1m[32mINSERT INTO "seating_rules" ("seating_event_id", "rule_type", "natural_language_input", "parsed_rule", "confidence_score", "target_attributes", "constraints", "priority", "active", "created_at", "updated_at") VALUES (2, 'distribution', 'Spread military personnel evenly across tables', '{"rule_type":"distribution","description":"Evenly distribute military personnel across all tables so each table has a similar number (difference ≤ 1).","target_attributes":{"organization":["army","navy","air force","marine corps","marines","coast guard","space force","national guard","dod","department of defense"],"title":["private","corporal","sergeant","staff sergeant","gunnery sergeant","petty officer","warrant officer","lieutenant","captain","major","commander","lieutenant colonel","colonel","brigadier general","major general","admiral","general","seaman","airman","sailor","soldier","marine"]},"constraints":{"distribution_strategy":"even","custom_logic":"Identify ''military personnel'' if organization or title contains any listed keyword (case-insensitive, substring match). Distribute identified individuals so counts per table differ by no more than 1. If organization/title is missing or ambiguous, do not infer solely from other attributes; optionally use a conservative heuristic only if explicitly allowed later (e.g., agency_level=''federal'' AND department_type=''security'')."},"priority":1}', 0.62, '{"organization":["army","navy","air force","marine corps","marines","coast guard","space force","national guard","dod","department of defense"],"title":["private","corporal","sergeant","staff sergeant","gunnery sergeant","petty officer","warrant officer","lieutenant","captain","major","commander","lieutenant colonel","colonel","brigadier general","major general","admiral","general","seaman","airman","sailor","soldier","marine"]}', '{"distribution_strategy":"even","custom_logic":"Identify ''military personnel'' if organization or title contains any listed keyword (case-insensitive, substring match). Distribute identified individuals so counts per table differ by no more than 1. If organization/title is missing or ambiguous, do not infer solely from other attributes; optionally use a conservative heuristic only if explicitly allowed later (e.g., agency_level=''federal'' AND department_type=''security'')."}', 1, TRUE, '2025-09-04 19:16:08.147085', '2025-09-04 19:16:08.147085') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:219:in 'block in NaturalLanguageParsingService.create_seating_rules'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:219:in 'block in NaturalLanguageParsingService.create_seating_rules'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:32:in 'NaturalLanguageInstruction#mark_as_completed!'
  [1m[36mNaturalLanguageInstruction Update (1.9ms)[0m  [1m[33mUPDATE "natural_language_instructions" SET "parsing_status" = 'completed', "parsed_rules" = '[{"id":3,"seating_event_id":2,"rule_type":"distribution","natural_language_input":"Spread military personnel evenly across tables","parsed_rule":{"rule_type":"distribution","description":"Evenly distribute military personnel across all tables so each table has a similar number (difference ≤ 1).","target_attributes":{"organization":["army","navy","air force","marine corps","marines","coast guard","space force","national guard","dod","department of defense"],"title":["private","corporal","sergeant","staff sergeant","gunnery sergeant","petty officer","warrant officer","lieutenant","captain","major","commander","lieutenant colonel","colonel","brigadier general","major general","admiral","general","seaman","airman","sailor","soldier","marine"]},"constraints":{"distribution_strategy":"even","custom_logic":"Identify ''military personnel'' if organization or title contains any listed keyword (case-insensitive, substring match). Distribute identified individuals so counts per table differ by no more than 1. If organization/title is missing or ambiguous, do not infer solely from other attributes; optionally use a conservative heuristic only if explicitly allowed later (e.g., agency_level=''federal'' AND department_type=''security'')."},"priority":1},"confidence_score":"0.62","target_attributes":{"organization":["army","navy","air force","marine corps","marines","coast guard","space force","national guard","dod","department of defense"],"title":["private","corporal","sergeant","staff sergeant","gunnery sergeant","petty officer","warrant officer","lieutenant","captain","major","commander","lieutenant colonel","colonel","brigadier general","major general","admiral","general","seaman","airman","sailor","soldier","marine"]},"constraints":{"distribution_strategy":"even","custom_logic":"Identify ''military personnel'' if organization or title contains any listed keyword (case-insensitive, substring match). Distribute identified individuals so counts per table differ by no more than 1. If organization/title is missing or ambiguous, do not infer solely from other attributes; optionally use a conservative heuristic only if explicitly allowed later (e.g., agency_level=''federal'' AND department_type=''security'')."},"priority":1,"active":true,"created_at":"2025-09-04T19:16:08.147Z","updated_at":"2025-09-04T19:16:08.147Z"}]', "ai_interpretation" = '{"confidence":0.62,"interpretation":"Distribute attendees identified as military personnel as evenly as possible across all tables. Because ''military'' is not an available attribute value, identify military personnel via organization/title keywords (e.g., Army, Navy, Air Force, Marine Corps, Coast Guard, Space Force, National Guard, DoD). Ensure each table has a similar count, with differences of at most one.","rules":[{"rule_type":"distribution","description":"Evenly distribute military personnel across all tables so each table has a similar number (difference ≤ 1).","target_attributes":{"organization":["army","navy","air force","marine corps","marines","coast guard","space force","national guard","dod","department of defense"],"title":["private","corporal","sergeant","staff sergeant","gunnery sergeant","petty officer","warrant officer","lieutenant","captain","major","commander","lieutenant colonel","colonel","brigadier general","major general","admiral","general","seaman","airman","sailor","soldier","marine"]},"constraints":{"distribution_strategy":"even","custom_logic":"Identify ''military personnel'' if organization or title contains any listed keyword (case-insensitive, substring match). Distribute identified individuals so counts per table differ by no more than 1. If organization/title is missing or ambiguous, do not infer solely from other attributes; optionally use a conservative heuristic only if explicitly allowed later (e.g., agency_level=''federal'' AND department_type=''security'')."},"priority":1}],"examples":["John Smith — organization: U.S. Army; title: Sergeant","Jane Doe — organization: Department of Defense; title: Major","Alex Lee — organization: Air National Guard; title: Captain"]}', "confidence_score" = 0.62, "updated_at" = '2025-09-04 19:16:08.157157' WHERE "natural_language_instructions"."id" = 3 /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:32:in 'NaturalLanguageInstruction#mark_as_completed!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:32:in 'NaturalLanguageInstruction#mark_as_completed!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:6:in 'NaturalLanguageParsingService.parse_instruction'
  [1m[36mNaturalLanguageInstruction Create (1.5ms)[0m  [1m[32mINSERT INTO "natural_language_instructions" ("seating_event_id", "instruction_text", "parsing_status", "parsed_rules", "ai_interpretation", "confidence_score", "created_by_id", "error_message", "created_at", "updated_at") VALUES (2, 'Ensure each table has mix of federal, state, and local', 'pending', '[]', '{}', 0.0, 1, NULL, '2025-09-04 19:16:08.163705', '2025-09-04 19:16:08.163705') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:6:in 'NaturalLanguageParsingService.parse_instruction'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:6:in 'NaturalLanguageParsingService.parse_instruction'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:28:in 'NaturalLanguageInstruction#mark_as_processing!'
  [1m[36mNaturalLanguageInstruction Update (1.0ms)[0m  [1m[33mUPDATE "natural_language_instructions" SET "parsing_status" = 'processing', "updated_at" = '2025-09-04 19:16:08.167862' WHERE "natural_language_instructions"."id" = 4 /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:28:in 'NaturalLanguageInstruction#mark_as_processing!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:28:in 'NaturalLanguageInstruction#mark_as_processing!'
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."cohort_id" = 1 LIMIT 100 /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:101:in 'Enumerable#map'
  [1m[36mStudent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."cohort_id" = 1 /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:118:in 'NaturalLanguageParsingService.get_cohort_attributes'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:219:in 'block in NaturalLanguageParsingService.create_seating_rules'
  [1m[36mSeatingRule Create (3.4ms)[0m  [1m[32mINSERT INTO "seating_rules" ("seating_event_id", "rule_type", "natural_language_input", "parsed_rule", "confidence_score", "target_attributes", "constraints", "priority", "active", "created_at", "updated_at") VALUES (2, 'distribution', 'Ensure each table has mix of federal, state, and local', '{"rule_type":"distribution","description":"Distribute participants so each table contains a mix of agency_level: federal, state, and local (prefer at least one of each per table). When counts are insufficient, balance representation across tables.","target_attributes":{"agency_level":["federal","state","local"]},"constraints":{"distribution_strategy":"balanced_mix","custom_logic":"Primary goal: per table include at least one federal, one state, and one local if available. If some levels are scarce, spread those scarce levels across different tables before placing additional same-level participants at the same table. Do not count ''unknown'' toward satisfying the mix; place ''unknown'' evenly as fillers."},"priority":1}', 0.88, '{"agency_level":["federal","state","local"]}', '{"distribution_strategy":"balanced_mix","custom_logic":"Primary goal: per table include at least one federal, one state, and one local if available. If some levels are scarce, spread those scarce levels across different tables before placing additional same-level participants at the same table. Do not count ''unknown'' toward satisfying the mix; place ''unknown'' evenly as fillers."}', 1, TRUE, '2025-09-04 19:16:35.383966', '2025-09-04 19:16:35.383966') RETURNING "id" /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:219:in 'block in NaturalLanguageParsingService.create_seating_rules'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:219:in 'block in NaturalLanguageParsingService.create_seating_rules'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:32:in 'NaturalLanguageInstruction#mark_as_completed!'
  [1m[36mNaturalLanguageInstruction Update (1.6ms)[0m  [1m[33mUPDATE "natural_language_instructions" SET "parsing_status" = 'completed', "parsed_rules" = '[{"id":4,"seating_event_id":2,"rule_type":"distribution","natural_language_input":"Ensure each table has mix of federal, state, and local","parsed_rule":{"rule_type":"distribution","description":"Distribute participants so each table contains a mix of agency_level: federal, state, and local (prefer at least one of each per table). When counts are insufficient, balance representation across tables.","target_attributes":{"agency_level":["federal","state","local"]},"constraints":{"distribution_strategy":"balanced_mix","custom_logic":"Primary goal: per table include at least one federal, one state, and one local if available. If some levels are scarce, spread those scarce levels across different tables before placing additional same-level participants at the same table. Do not count ''unknown'' toward satisfying the mix; place ''unknown'' evenly as fillers."},"priority":1},"confidence_score":"0.88","target_attributes":{"agency_level":["federal","state","local"]},"constraints":{"distribution_strategy":"balanced_mix","custom_logic":"Primary goal: per table include at least one federal, one state, and one local if available. If some levels are scarce, spread those scarce levels across different tables before placing additional same-level participants at the same table. Do not count ''unknown'' toward satisfying the mix; place ''unknown'' evenly as fillers."},"priority":1,"active":true,"created_at":"2025-09-04T19:16:35.383Z","updated_at":"2025-09-04T19:16:35.383Z"}]', "ai_interpretation" = '{"confidence":0.88,"interpretation":"Ensure each table has a diverse mix by agency_level, aiming for at least one federal, one state, and one local participant per table. If exact mix isn’t possible due to counts, distribute the available agency levels as evenly as possible so no table lacks representation where feasible.","rules":[{"rule_type":"distribution","description":"Distribute participants so each table contains a mix of agency_level: federal, state, and local (prefer at least one of each per table). When counts are insufficient, balance representation across tables.","target_attributes":{"agency_level":["federal","state","local"]},"constraints":{"distribution_strategy":"balanced_mix","custom_logic":"Primary goal: per table include at least one federal, one state, and one local if available. If some levels are scarce, spread those scarce levels across different tables before placing additional same-level participants at the same table. Do not count ''unknown'' toward satisfying the mix; place ''unknown'' evenly as fillers."},"priority":1}],"examples":["Table A: 1 federal, 1 state, 1 local (+ any others as needed)","If only 2 state participants exist across all tables, seat them at different tables and fill remaining seats with federal/local"]}', "confidence_score" = 0.88, "updated_at" = '2025-09-04 19:16:35.401816' WHERE "natural_language_instructions"."id" = 4 /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:32:in 'NaturalLanguageInstruction#mark_as_completed!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  ↳ app/models/natural_language_instruction.rb:32:in 'NaturalLanguageInstruction#mark_as_completed!'
  [1m[36mSeatingRule Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "seating_rules" WHERE "seating_rules"."seating_event_id" = 2 /*application='SeatingCharter'*/[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mSeatingEvent Load (0.5ms)[0m  [1m[34mSELECT "seating_events".* FROM "seating_events" ORDER BY "seating_events"."id" DESC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mSeatingRule Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "seating_rules" WHERE "seating_rules"."seating_event_id" = 2 /*application='SeatingCharter'*/[0m
  [1m[36mCohort Load (0.4ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ app/services/rule_validation_service.rb:57:in 'RuleValidationService.check_feasibility'
  [1m[36mStudent Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."cohort_id" = 1 /*application='SeatingCharter'*/[0m
  ↳ app/services/rule_validation_service.rb:58:in 'RuleValidationService.check_feasibility'
  [1m[36mCACHE Student Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."cohort_id" = 1[0m
  ↳ app/services/rule_validation_service.rb:312:in 'RuleValidationService.calculate_expected_utilization'
  [1m[36mSeatingRule Load (1.0ms)[0m  [1m[34mSELECT "seating_rules".* FROM "seating_rules" WHERE "seating_rules"."seating_event_id" = 2 AND "seating_rules"."active" = TRUE ORDER BY "seating_rules"."priority" ASC /*application='SeatingCharter'*/[0m
  ↳ app/services/rule_validation_service.rb:78:in 'RuleValidationService.check_feasibility'
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."cohort_id" = 1 /*application='SeatingCharter'*/[0m
  ↳ app/services/rule_validation_service.rb:364:in 'RuleValidationService.count_affected_students'
  [1m[36mSeatingRule Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "seating_rules" WHERE "seating_rules"."seating_event_id" = 2 AND "seating_rules"."active" = TRUE /*application='SeatingCharter'*/[0m
  ↳ app/services/rule_validation_service.rb:197:in 'RuleValidationService.detect_warnings'
  [1m[36mCACHE SeatingRule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "seating_rules" WHERE "seating_rules"."seating_event_id" = 2 AND "seating_rules"."active" = TRUE[0m
  ↳ app/services/rule_validation_service.rb:234:in 'RuleValidationService.generate_suggestions'
  [1m[36mSeatingRule Load (0.3ms)[0m  [1m[34mSELECT "seating_rules".* FROM "seating_rules" WHERE "seating_rules"."seating_event_id" = 2 /*application='SeatingCharter'*/[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mSeatingEvent Load (0.5ms)[0m  [1m[34mSELECT "seating_events".* FROM "seating_events" ORDER BY "seating_events"."id" DESC LIMIT 1 /*application='SeatingCharter'*/[0m
  [1m[36mCohort Load (0.4ms)[0m  [1m[34mSELECT "cohorts".* FROM "cohorts" WHERE "cohorts"."id" = 1 LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:75:in 'NaturalLanguageParsingService.preview_parsing'
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."cohort_id" = 1 LIMIT 100 /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:101:in 'Enumerable#map'
  [1m[36mStudent Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "students" WHERE "students"."cohort_id" = 1 /*application='SeatingCharter'*/[0m
  ↳ app/services/natural_language_parsing_service.rb:118:in 'NaturalLanguageParsingService.get_cohort_attributes'
  [1m[36mAiConfiguration Load (0.4ms)[0m  [1m[34mSELECT "ai_configurations".* FROM "ai_configurations" WHERE "ai_configurations"."active" = TRUE LIMIT 1 /*application='SeatingCharter'*/[0m
  ↳ app/services/openai_service.rb:147:in 'OpenaiService.get_active_configuration'
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
Migrating to AddExplanationDataToSeatingArrangements (20250904192347)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD "explanation_data" jsonb DEFAULT '{}' /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD "decision_log_data" jsonb DEFAULT '{}' /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD "confidence_scores" jsonb DEFAULT '{}' /*application='SeatingCharter'*/[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE INDEX "index_seating_arrangements_on_explanation_data" ON "seating_arrangements" USING gin ("explanation_data") /*application='SeatingCharter'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_seating_arrangements_on_decision_log_data" ON "seating_arrangements" USING gin ("decision_log_data") /*application='SeatingCharter'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_seating_arrangements_on_confidence_scores" ON "seating_arrangements" USING gin ("confidence_scores") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904192347') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
Migrating to AddEditorFieldsToSeatingArrangement (20250904193000)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (5.0ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD "last_modified_at" timestamp(6) /*application='SeatingCharter'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD "last_modified_by_id" bigint NOT NULL /*application='SeatingCharter'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_seating_arrangements_on_last_modified_by_id" ON "seating_arrangements" ("last_modified_by_id") /*application='SeatingCharter'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD CONSTRAINT "fk_rails_775ca26295"
FOREIGN KEY ("last_modified_by_id")
  REFERENCES "last_modified_bies" ("id")
 /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*application='SeatingCharter'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(5197479384563396175) /*application='SeatingCharter'*/[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='SeatingCharter'*/[0m
Migrating to AddEditorFieldsToSeatingArrangement (20250904193000)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD "last_modified_at" timestamp(6) /*application='SeatingCharter'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD "last_modified_by_id" bigint /*application='SeatingCharter'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_seating_arrangements_on_last_modified_by_id" ON "seating_arrangements" ("last_modified_by_id") /*application='SeatingCharter'*/[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD CONSTRAINT "fk_rails_775ca26295"
FOREIGN KEY ("last_modified_by_id")
  REFERENCES "users" ("id")
 /*application='SeatingCharter'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD "is_locked" boolean DEFAULT FALSE /*application='SeatingCharter'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD "locked_by_id" bigint /*application='SeatingCharter'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_seating_arrangements_on_locked_by_id" ON "seating_arrangements" ("locked_by_id") /*application='SeatingCharter'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD CONSTRAINT "fk_rails_5e588c2df7"
FOREIGN KEY ("locked_by_id")
  REFERENCES "users" ("id")
 /*application='SeatingCharter'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD "locked_at" timestamp(6) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904193000') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to AddPositionToTableAssignment (20250904193008)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "table_assignments" ADD "position" integer /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904193008') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to AddMultiDayFieldsToInteractionTrackings (20250904193248)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "interaction_trackings" ADD "interaction_details" jsonb DEFAULT '"[]"' /*application='SeatingCharter'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_interaction_trackings_on_interaction_details" ON "interaction_trackings" USING gin ("interaction_details") /*application='SeatingCharter'*/[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE INDEX "index_interaction_trackings_on_day" ON "interaction_trackings" ((interaction_details->>'day')) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904193248') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to AddMultiDayFieldsToSeatingArrangements (20250904193256)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD "day_number" integer /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "seating_arrangements" ADD "multi_day_metadata" jsonb DEFAULT '"{}"' /*application='SeatingCharter'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_seating_arrangements_on_seating_event_id_and_day_number" ON "seating_arrangements" ("seating_event_id", "day_number") /*application='SeatingCharter'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_seating_arrangements_on_multi_day_metadata" ON "seating_arrangements" USING gin ("multi_day_metadata") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904193256') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
Migrating to AddMultiDayFieldsToSeatingEvents (20250904193305)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "seating_events" ADD "multi_day_metrics" jsonb DEFAULT '"{}"' /*application='SeatingCharter'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "seating_events" ADD "multi_day_optimization_completed_at" timestamp(6) /*application='SeatingCharter'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "seating_events" ADD "multi_day_optimization_created_by" integer /*application='SeatingCharter'*/[0m
  [1m[35m (6.8ms)[0m  [1m[35mALTER TABLE "seating_events" ADD CONSTRAINT "fk_rails_f8e49b2233"
FOREIGN KEY ("multi_day_optimization_created_by")
  REFERENCES "users" ("id")
 /*application='SeatingCharter'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_seating_events_on_multi_day_optimization_completed_at" ON "seating_events" ("multi_day_optimization_completed_at") /*application='SeatingCharter'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_seating_events_on_multi_day_metrics" ON "seating_events" USING gin ("multi_day_metrics") /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904193305') RETURNING "version" /*application='SeatingCharter'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='SeatingCharter'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(5197479384563396175) /*application='SeatingCharter'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
Started GET "/users/sign_in" for ::1 at 2025-09-04 12:43:43 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='SeatingCharter'*/[0m
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /opt/homebrew/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /opt/homebrew/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/shared/_links.html.erb (Duration: 1.8ms | GC: 0.0ms)
  Rendered /opt/homebrew/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 6.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 0.1ms)
Completed 200 OK in 83ms (Views: 17.5ms | ActiveRecord: 4.8ms (0 queries, 0 cached) | GC: 0.5ms)


Started GET "/assets/seating_editor-ffe15b26.css" for ::1 at 2025-09-04 12:43:44 -0700
Started GET "/assets/controllers/rule_parser_controller-9ad13a36.js" for ::1 at 2025-09-04 12:43:44 -0700
Started GET "/assets/controllers/seating_editor_controller-bb31d6c5.js" for ::1 at 2025-09-04 12:43:44 -0700
Started GET "/users/sign_in" for ::1 at 2025-09-04 13:53:16 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering /opt/homebrew/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /opt/homebrew/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/shared/_links.html.erb (Duration: 2.6ms | GC: 0.0ms)
  Rendered /opt/homebrew/lib/ruby/gems/3.4.0/gems/devise-4.9.4/app/views/devise/sessions/new.html.erb within layouts/application (Duration: 11.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | GC: 0.1ms)
Completed 200 OK in 82ms (Views: 18.5ms | ActiveRecord: 8.1ms (0 queries, 0 cached) | GC: 0.3ms)


Started GET "/apple-touch-icon-precomposed.png" for ::1 at 2025-09-04 13:57:32 -0700
Started GET "/apple-touch-icon.png" for ::1 at 2025-09-04 13:57:32 -0700
Started GET "/favicon.ico" for ::1 at 2025-09-04 13:57:32 -0700
  
ActionController::RoutingError (No route matches [GET] "/apple-touch-icon.png"):
  
  
ActionController::RoutingError (No route matches [GET] "/apple-touch-icon-precomposed.png"):
  
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
[dotenv] Set [36mDATABASE_USERNAME[0m, [36mDATABASE_PASSWORD[0m, [36mDATABASE_HOST[0m, [36mDATABASE_PORT[0m, [36mOPENAI_API_KEY[0m, [36mOPENAI_ORGANIZATION_ID[0m, [36mOPENAI_PROJECT_ID[0m, [36mRAILS_ENV[0m, [36mRAILS_MAX_THREADS[0m, [36mRAILS_MIN_THREADS[0m, [36mREDIS_URL[0m, [36mAPP_HOST[0m, [36mMAIL_FROM[0m, [36mSECRET_KEY_BASE[0m, [36mDEVISE_JWT_SECRET_KEY[0m, [36mMAX_INSTRUCTORS[0m, [36mMAX_STUDENTS_PER_COHORT[0m, [36mDEFAULT_TABLE_SIZE[0m, [36mDEFAULT_AI_MODEL[0m, [36mDEFAULT_AI_TEMPERATURE[0m, [36mDEFAULT_AI_MAX_TOKENS[0m, [36mDEFAULT_BATCH_SIZE[0m, [36mMONTHLY_API_BUDGET_LIMIT[0m, and [36mCOST_ALERT_THRESHOLD[0m
[dotenv] Loaded [33m.env[0m
Started GET "/users/sign_in" for ::1 at 2025-09-04 14:00:21 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.9ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.2ms)
Completed 200 OK in 52ms (Views: 12.8ms | ActiveRecord: 2.6ms (0 queries, 0 cached) | GC: 0.5ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:00:26 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 4.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:00:41 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:00:45 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | GC: 0.1ms)
Completed 200 OK in 57ms (Views: 15.2ms | ActiveRecord: 7.1ms (0 queries, 0 cached) | GC: 0.4ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:00:47 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.7ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.1ms)
Completed 200 OK in 34ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:00:56 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:01:08 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 6.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:01:10 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:01:16 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 50ms (Views: 7.1ms | ActiveRecord: 2.3ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:01:40 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.2ms)
Completed 200 OK in 46ms (Views: 9.4ms | ActiveRecord: 2.4ms (0 queries, 0 cached) | GC: 0.7ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:01:50 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 3.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:02:45 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 5.6ms | ActiveRecord: 2.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:02:47 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.6ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.4ms)
Completed 200 OK in 39ms (Views: 6.4ms | ActiveRecord: 2.0ms (0 queries, 0 cached) | GC: 0.7ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:02:53 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.3ms)
Completed 200 OK in 34ms (Views: 3.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:02:54 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:02:55 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:03:50 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/devise.html.erb
  Rendering devise/sessions/new.html.erb within layouts/devise
  Rendered devise/shared/_links.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/devise (Duration: 8.3ms | GC: 0.0ms)
  Rendered layout layouts/devise.html.erb (Duration: 11.2ms | GC: 0.0ms)
Completed 200 OK in 46ms (Views: 12.4ms | ActiveRecord: 2.1ms (0 queries, 0 cached) | GC: 0.1ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:04:02 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/devise.html.erb
  Rendering devise/sessions/new.html.erb within layouts/devise
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | GC: 0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/devise (Duration: 2.7ms | GC: 0.3ms)
  Rendered layout layouts/devise.html.erb (Duration: 4.4ms | GC: 0.5ms)
Completed 200 OK in 38ms (Views: 5.6ms | ActiveRecord: 2.0ms (0 queries, 0 cached) | GC: 0.9ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:04:16 -0700
Processing by Devise::SessionsController#new as */*
  Rendering layout layouts/devise.html.erb
  Rendering devise/sessions/new.html.erb within layouts/devise
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/devise (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/devise.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 2.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_up" for ::1 at 2025-09-04 14:04:21 -0700
Processing by Devise::RegistrationsController#new as */*
  Rendering layout layouts/devise.html.erb
  Rendering devise/registrations/new.html.erb within layouts/devise
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered devise/registrations/new.html.erb within layouts/devise (Duration: 2.3ms | GC: 0.2ms)
  Rendered layout layouts/devise.html.erb (Duration: 2.7ms | GC: 0.2ms)
Completed 200 OK in 27ms (Views: 3.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/users/password/new" for ::1 at 2025-09-04 14:04:26 -0700
Processing by Devise::PasswordsController#new as */*
  Rendering layout layouts/devise.html.erb
  Rendering devise/passwords/new.html.erb within layouts/devise
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered devise/passwords/new.html.erb within layouts/devise (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/devise.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:05:00 -0700
Processing by Devise::SessionsController#new as */*
  Rendering layout layouts/devise.html.erb
  Rendering devise/sessions/new.html.erb within layouts/devise
  Rendered devise/shared/_links.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/devise (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/devise.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 5.7ms | ActiveRecord: 2.1ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:05:05 -0700
Processing by Devise::SessionsController#new as */*
  Rendering layout layouts/devise.html.erb
  Rendering devise/sessions/new.html.erb within layouts/devise
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/devise (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/devise.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:05:09 -0700
Processing by Devise::SessionsController#new as */*
  Rendering layout layouts/devise.html.erb
  Rendering devise/sessions/new.html.erb within layouts/devise
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/devise (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/devise.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2025-09-04 14:05:43 -0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/devise.html.erb
  Rendering devise/sessions/new.html.erb within layouts/devise
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/devise (Duration: 12.8ms | GC: 0.0ms)
  Rendered layout layouts/devise.html.erb (Duration: 13.5ms | GC: 0.0ms)
Completed 200 OK in 43ms (Views: 13.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


